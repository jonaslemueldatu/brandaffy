{"ast":null,"code":"import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { classNames } from '../../utilities/css.js';\nimport styles from './Collapsible.scss.js';\nfunction Collapsible(_ref) {\n  let {\n    id,\n    expandOnPrint,\n    open,\n    transition = true,\n    preventMeasuringOnChildrenUpdate: _preventMeasuringOnChildrenUpdate,\n    children,\n    onAnimationEnd\n  } = _ref;\n  const [height, setHeight] = useState(0);\n  const [isOpen, setIsOpen] = useState(open);\n  const [animationState, setAnimationState] = useState('idle');\n  const collapsibleContainer = useRef(null);\n  const isFullyOpen = animationState === 'idle' && open && isOpen;\n  const isFullyClosed = animationState === 'idle' && !open && !isOpen;\n  const content = expandOnPrint || !isFullyClosed ? children : null;\n  const wrapperClassName = classNames(styles.Collapsible, isFullyClosed && styles.isFullyClosed, expandOnPrint && styles.expandOnPrint);\n  const transitionDisabled = isTransitionDisabled(transition);\n  const transitionStyles = typeof transition === 'object' && {\n    transitionDuration: transition.duration,\n    transitionTimingFunction: transition.timingFunction\n  };\n  const collapsibleStyles = {\n    ...transitionStyles,\n    ...{\n      maxHeight: isFullyOpen ? 'none' : `${height}px`,\n      overflow: isFullyOpen ? 'visible' : 'hidden'\n    }\n  };\n  const handleCompleteAnimation = useCallback(_ref2 => {\n    let {\n      target\n    } = _ref2;\n    if (target === collapsibleContainer.current) {\n      setAnimationState('idle');\n      setIsOpen(open);\n      onAnimationEnd && onAnimationEnd();\n    }\n  }, [onAnimationEnd, open]);\n  const startAnimation = useCallback(() => {\n    if (transitionDisabled) {\n      setIsOpen(open);\n      setAnimationState('idle');\n      if (open && collapsibleContainer.current) {\n        setHeight(collapsibleContainer.current.scrollHeight);\n      } else {\n        setHeight(0);\n      }\n    } else {\n      setAnimationState('measuring');\n    }\n  }, [open, transitionDisabled]);\n  useEffect(() => {\n    if (open !== isOpen) {\n      startAnimation();\n    } // startAnimation should only be fired if the open state changes.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open, isOpen]);\n  useEffect(() => {\n    if (!open || !collapsibleContainer.current) return; // If collapsible defaults to open, set an initial height\n\n    setHeight(collapsibleContainer.current.scrollHeight); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    if (!collapsibleContainer.current) return;\n    switch (animationState) {\n      case 'idle':\n        break;\n      case 'measuring':\n        setHeight(collapsibleContainer.current.scrollHeight);\n        setAnimationState('animating');\n        break;\n      case 'animating':\n        setHeight(open ? collapsibleContainer.current.scrollHeight : 0);\n    }\n  }, [animationState, open, isOpen]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    style: collapsibleStyles,\n    ref: collapsibleContainer,\n    className: wrapperClassName,\n    onTransitionEnd: handleCompleteAnimation,\n    \"aria-hidden\": !open\n  }, content);\n}\nconst zeroDurationRegex = /^0(ms|s)$/;\nfunction isTransitionDisabled(transitionProp) {\n  if (typeof transitionProp === 'boolean') {\n    return !transitionProp;\n  }\n  const {\n    duration\n  } = transitionProp;\n  if (duration && zeroDurationRegex.test(duration.trim())) {\n    return true;\n  }\n  return false;\n}\nexport { Collapsible };","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","classNames","styles","Collapsible","_ref","id","expandOnPrint","open","transition","preventMeasuringOnChildrenUpdate","_preventMeasuringOnChildrenUpdate","children","onAnimationEnd","height","setHeight","isOpen","setIsOpen","animationState","setAnimationState","collapsibleContainer","isFullyOpen","isFullyClosed","content","wrapperClassName","transitionDisabled","isTransitionDisabled","transitionStyles","transitionDuration","duration","transitionTimingFunction","timingFunction","collapsibleStyles","maxHeight","overflow","handleCompleteAnimation","_ref2","target","current","startAnimation","scrollHeight","createElement","style","ref","className","onTransitionEnd","zeroDurationRegex","transitionProp","test","trim"],"sources":["/Users/jonaslemueldatu/node_modules/@shopify/polaris/build/esm/components/Collapsible/Collapsible.js"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { classNames } from '../../utilities/css.js';\nimport styles from './Collapsible.scss.js';\n\nfunction Collapsible({\n  id,\n  expandOnPrint,\n  open,\n  transition = true,\n  preventMeasuringOnChildrenUpdate: _preventMeasuringOnChildrenUpdate,\n  children,\n  onAnimationEnd\n}) {\n  const [height, setHeight] = useState(0);\n  const [isOpen, setIsOpen] = useState(open);\n  const [animationState, setAnimationState] = useState('idle');\n  const collapsibleContainer = useRef(null);\n  const isFullyOpen = animationState === 'idle' && open && isOpen;\n  const isFullyClosed = animationState === 'idle' && !open && !isOpen;\n  const content = expandOnPrint || !isFullyClosed ? children : null;\n  const wrapperClassName = classNames(styles.Collapsible, isFullyClosed && styles.isFullyClosed, expandOnPrint && styles.expandOnPrint);\n  const transitionDisabled = isTransitionDisabled(transition);\n  const transitionStyles = typeof transition === 'object' && {\n    transitionDuration: transition.duration,\n    transitionTimingFunction: transition.timingFunction\n  };\n  const collapsibleStyles = { ...transitionStyles,\n    ...{\n      maxHeight: isFullyOpen ? 'none' : `${height}px`,\n      overflow: isFullyOpen ? 'visible' : 'hidden'\n    }\n  };\n  const handleCompleteAnimation = useCallback(({\n    target\n  }) => {\n    if (target === collapsibleContainer.current) {\n      setAnimationState('idle');\n      setIsOpen(open);\n      onAnimationEnd && onAnimationEnd();\n    }\n  }, [onAnimationEnd, open]);\n  const startAnimation = useCallback(() => {\n    if (transitionDisabled) {\n      setIsOpen(open);\n      setAnimationState('idle');\n\n      if (open && collapsibleContainer.current) {\n        setHeight(collapsibleContainer.current.scrollHeight);\n      } else {\n        setHeight(0);\n      }\n    } else {\n      setAnimationState('measuring');\n    }\n  }, [open, transitionDisabled]);\n  useEffect(() => {\n    if (open !== isOpen) {\n      startAnimation();\n    } // startAnimation should only be fired if the open state changes.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [open, isOpen]);\n  useEffect(() => {\n    if (!open || !collapsibleContainer.current) return; // If collapsible defaults to open, set an initial height\n\n    setHeight(collapsibleContainer.current.scrollHeight); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    if (!collapsibleContainer.current) return;\n\n    switch (animationState) {\n      case 'idle':\n        break;\n\n      case 'measuring':\n        setHeight(collapsibleContainer.current.scrollHeight);\n        setAnimationState('animating');\n        break;\n\n      case 'animating':\n        setHeight(open ? collapsibleContainer.current.scrollHeight : 0);\n    }\n  }, [animationState, open, isOpen]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    style: collapsibleStyles,\n    ref: collapsibleContainer,\n    className: wrapperClassName,\n    onTransitionEnd: handleCompleteAnimation,\n    \"aria-hidden\": !open\n  }, content);\n}\nconst zeroDurationRegex = /^0(ms|s)$/;\n\nfunction isTransitionDisabled(transitionProp) {\n  if (typeof transitionProp === 'boolean') {\n    return !transitionProp;\n  }\n\n  const {\n    duration\n  } = transitionProp;\n\n  if (duration && zeroDurationRegex.test(duration.trim())) {\n    return true;\n  }\n\n  return false;\n}\n\nexport { Collapsible };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}