{"ast":null,"code":"import React, { PureComponent } from 'react';\nimport { CaretDownMinor, HorizontalDotsMinor } from '@shopify/polaris-icons';\nimport { classNames } from '../../utilities/css.js';\nimport { getVisibleAndHiddenTabIndices } from './utilities.js';\nimport styles from './LegacyTabs.scss.js';\nimport { Panel } from './components/Panel/Panel.js';\nimport { TabMeasurer } from './components/TabMeasurer/TabMeasurer.js';\nimport { List } from './components/List/List.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Tab } from './components/Tab/Tab.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { Box } from '../Box/Box.js';\nimport { Popover } from '../Popover/Popover.js';\nclass TabsInner extends PureComponent {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      disclosureWidth: 0,\n      containerWidth: Infinity,\n      tabWidths: [],\n      visibleTabs: [],\n      hiddenTabs: [],\n      showDisclosure: false,\n      tabToFocus: -1\n    };\n    this.handleKeyPress = event => {\n      const {\n        tabToFocus,\n        visibleTabs,\n        hiddenTabs,\n        showDisclosure\n      } = this.state;\n      const key = event.key;\n      const tabsArrayInOrder = showDisclosure ? visibleTabs.concat(hiddenTabs) : [...visibleTabs];\n      let newFocus = tabsArrayInOrder.indexOf(tabToFocus);\n      if (key === 'ArrowRight') {\n        newFocus += 1;\n        if (newFocus === tabsArrayInOrder.length) {\n          newFocus = 0;\n        }\n      }\n      if (key === 'ArrowLeft') {\n        if (newFocus === -1 || newFocus === 0) {\n          newFocus = tabsArrayInOrder.length - 1;\n        } else {\n          newFocus -= 1;\n        }\n      }\n      this.setState({\n        tabToFocus: tabsArrayInOrder[newFocus]\n      });\n    };\n    this.renderTabMarkup = (tab, index) => {\n      const {\n        selected,\n        children\n      } = this.props;\n      const {\n        tabToFocus\n      } = this.state;\n      const tabPanelID = tab.panelID || `${tab.id}-panel`;\n      return /*#__PURE__*/React.createElement(Tab, {\n        key: `${index}-${tab.id}`,\n        id: tab.id,\n        siblingTabHasFocus: tabToFocus > -1,\n        focused: index === tabToFocus,\n        selected: index === selected,\n        onClick: this.handleTabClick,\n        panelID: children ? tabPanelID : undefined,\n        accessibilityLabel: tab.accessibilityLabel,\n        url: tab.url\n      }, tab.content);\n    };\n    this.handleFocus = event => {\n      const {\n        selected,\n        tabs\n      } = this.props; // If we are explicitly focusing a non-selected tab, this focuses it\n\n      const target = event.target;\n      if (target.classList.contains(styles.Tab) || target.classList.contains(styles.Item)) {\n        let tabToFocus = -1;\n        tabs.every((tab, index) => {\n          if (tab.id === target.id) {\n            tabToFocus = index;\n            return false;\n          }\n          return true;\n        });\n        this.setState({\n          tabToFocus\n        });\n        return;\n      }\n      if (target.classList.contains(styles.DisclosureActivator)) {\n        return;\n      } // If we are coming in from somewhere other than another tab, focus the\n      // selected tab, and the focus (click) is not on the disclosure activator,\n      // focus the selected tab\n\n      if (!event.relatedTarget) {\n        this.setState({\n          tabToFocus: selected\n        });\n        return;\n      }\n      const relatedTarget = event.relatedTarget;\n      if (relatedTarget instanceof HTMLElement && !relatedTarget.classList.contains(styles.Tab) && !relatedTarget.classList.contains(styles.Item) && !relatedTarget.classList.contains(styles.DisclosureActivator)) {\n        this.setState({\n          tabToFocus: selected\n        });\n      }\n    };\n    this.handleBlur = event => {\n      // If we blur and the target is not another tab, forget the focus position\n      if (event.relatedTarget == null) {\n        this.setState({\n          tabToFocus: -1\n        });\n        return;\n      }\n      const target = event.relatedTarget; // If we are going to anywhere other than another tab, lose the last focused tab\n\n      if (target instanceof HTMLElement && !target.classList.contains(styles.Tab) && !target.classList.contains(styles.Item)) {\n        this.setState({\n          tabToFocus: -1\n        });\n      }\n    };\n    this.handleDisclosureActivatorClick = () => {\n      this.setState(_ref => {\n        let {\n          showDisclosure\n        } = _ref;\n        return {\n          showDisclosure: !showDisclosure\n        };\n      });\n    };\n    this.handleClose = () => {\n      this.setState({\n        showDisclosure: false\n      });\n    };\n    this.handleMeasurement = measurements => {\n      const {\n        tabs,\n        selected\n      } = this.props;\n      const {\n        tabToFocus\n      } = this.state;\n      const {\n        hiddenTabWidths: tabWidths,\n        containerWidth,\n        disclosureWidth\n      } = measurements;\n      const {\n        visibleTabs,\n        hiddenTabs\n      } = getVisibleAndHiddenTabIndices(tabs, selected, disclosureWidth, tabWidths, containerWidth);\n      this.setState({\n        tabToFocus: tabToFocus === -1 ? -1 : selected,\n        visibleTabs,\n        hiddenTabs,\n        disclosureWidth,\n        containerWidth,\n        tabWidths\n      });\n    };\n    this.handleTabClick = id => {\n      const {\n        tabs,\n        onSelect = noop\n      } = this.props;\n      const tab = tabs.find(aTab => aTab.id === id);\n      if (tab == null) {\n        return;\n      }\n      const selectedIndex = tabs.indexOf(tab);\n      onSelect(selectedIndex);\n    };\n  }\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      disclosureWidth,\n      tabWidths,\n      containerWidth\n    } = prevState;\n    const {\n      visibleTabs,\n      hiddenTabs\n    } = getVisibleAndHiddenTabIndices(nextProps.tabs, nextProps.selected, disclosureWidth, tabWidths, containerWidth);\n    return {\n      visibleTabs,\n      hiddenTabs,\n      selected: nextProps.selected\n    };\n  }\n  render() {\n    const {\n      tabs,\n      selected,\n      fitted,\n      children,\n      i18n,\n      disclosureText\n    } = this.props;\n    const {\n      tabToFocus,\n      visibleTabs,\n      hiddenTabs,\n      showDisclosure\n    } = this.state;\n    const disclosureTabs = hiddenTabs.map(tabIndex => tabs[tabIndex]);\n    const panelMarkup = children ? tabs.map((_tab, index) => {\n      return selected === index ? /*#__PURE__*/React.createElement(Panel, {\n        id: tabs[index].panelID || `${tabs[index].id}-panel`,\n        tabID: tabs[index].id,\n        key: tabs[index].id\n      }, children) : /*#__PURE__*/React.createElement(Panel, {\n        id: tabs[index].panelID || `${tabs[index].id}-panel`,\n        tabID: tabs[index].id,\n        key: tabs[index].id,\n        hidden: true\n      });\n    }) : null;\n    const tabsMarkup = visibleTabs.sort((tabA, tabB) => tabA - tabB).map(tabIndex => this.renderTabMarkup(tabs[tabIndex], tabIndex));\n    const disclosureActivatorVisible = visibleTabs.length < tabs.length;\n    const hasCustomDisclosure = Boolean(disclosureText);\n    const classname = classNames(styles.LegacyTabs, fitted && styles.fitted, disclosureActivatorVisible && styles.fillSpace);\n    const disclosureTabClassName = classNames(styles.DisclosureTab, disclosureActivatorVisible && styles['DisclosureTab-visible']);\n    const disclosureButtonClassName = classNames(styles.DisclosureActivator, hasCustomDisclosure && styles.Tab);\n    const disclosureButtonContentWrapperClassName = classNames(styles.Title, hasCustomDisclosure && styles.titleWithIcon);\n    const disclosureButtonContent = hasCustomDisclosure ? /*#__PURE__*/React.createElement(React.Fragment, null, disclosureText, /*#__PURE__*/React.createElement(Icon, {\n      source: CaretDownMinor,\n      color: \"subdued\"\n    })) : /*#__PURE__*/React.createElement(Icon, {\n      source: HorizontalDotsMinor,\n      color: \"subdued\"\n    });\n    const disclosureButton = /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: disclosureButtonClassName,\n      onClick: this.handleDisclosureActivatorClick,\n      \"aria-label\": i18n.translate('Polaris.Tabs.toggleTabsLabel')\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: disclosureButtonContentWrapperClassName\n    }, disclosureButtonContent));\n    const activator = disclosureText ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.TabContainer\n    }, disclosureButton) : disclosureButton;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Box, {\n      borderBlockEndWidth: \"1\",\n      borderColor: \"border-subdued\",\n      paddingInlineStart: \"2\",\n      paddingInlineEnd: \"2\"\n    }, /*#__PURE__*/React.createElement(TabMeasurer, {\n      tabToFocus: tabToFocus,\n      activator: activator,\n      selected: selected,\n      tabs: tabs,\n      siblingTabHasFocus: tabToFocus > -1,\n      handleMeasurement: this.handleMeasurement\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      role: \"tablist\",\n      className: classname,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onKeyDown: handleKeyDown,\n      onKeyUp: this.handleKeyPress\n    }, tabsMarkup, /*#__PURE__*/React.createElement(\"li\", {\n      className: disclosureTabClassName,\n      role: \"presentation\"\n    }, /*#__PURE__*/React.createElement(Popover, {\n      preferredPosition: \"below\",\n      activator: activator,\n      active: disclosureActivatorVisible && showDisclosure,\n      onClose: this.handleClose,\n      autofocusTarget: \"first-node\"\n    }, /*#__PURE__*/React.createElement(List, {\n      focusIndex: hiddenTabs.indexOf(tabToFocus),\n      disclosureTabs: disclosureTabs,\n      onClick: this.handleTabClick,\n      onKeyPress: this.handleKeyPress\n    }))))), panelMarkup);\n  }\n}\nfunction noop() {}\nfunction handleKeyDown(event) {\n  const {\n    key\n  } = event;\n  if (key === 'ArrowLeft' || key === 'ArrowRight') {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\nfunction LegacyTabs(props) {\n  const i18n = useI18n();\n  return /*#__PURE__*/React.createElement(TabsInner, Object.assign({}, props, {\n    i18n: i18n\n  }));\n}\nexport { LegacyTabs };","map":{"version":3,"names":["React","PureComponent","CaretDownMinor","HorizontalDotsMinor","classNames","getVisibleAndHiddenTabIndices","styles","Panel","TabMeasurer","List","useI18n","Tab","Icon","Box","Popover","TabsInner","constructor","arguments","state","disclosureWidth","containerWidth","Infinity","tabWidths","visibleTabs","hiddenTabs","showDisclosure","tabToFocus","handleKeyPress","event","key","tabsArrayInOrder","concat","newFocus","indexOf","length","setState","renderTabMarkup","tab","index","selected","children","props","tabPanelID","panelID","id","createElement","siblingTabHasFocus","focused","onClick","handleTabClick","undefined","accessibilityLabel","url","content","handleFocus","tabs","target","classList","contains","Item","every","DisclosureActivator","relatedTarget","HTMLElement","handleBlur","handleDisclosureActivatorClick","_ref","handleClose","handleMeasurement","measurements","hiddenTabWidths","onSelect","noop","find","aTab","selectedIndex","getDerivedStateFromProps","nextProps","prevState","render","fitted","i18n","disclosureText","disclosureTabs","map","tabIndex","panelMarkup","_tab","tabID","hidden","tabsMarkup","sort","tabA","tabB","disclosureActivatorVisible","hasCustomDisclosure","Boolean","classname","LegacyTabs","fillSpace","disclosureTabClassName","DisclosureTab","disclosureButtonClassName","disclosureButtonContentWrapperClassName","Title","titleWithIcon","disclosureButtonContent","Fragment","source","color","disclosureButton","type","className","translate","activator","TabContainer","borderBlockEndWidth","borderColor","paddingInlineStart","paddingInlineEnd","role","onFocus","onBlur","onKeyDown","handleKeyDown","onKeyUp","preferredPosition","active","onClose","autofocusTarget","focusIndex","onKeyPress","preventDefault","stopPropagation","Object","assign"],"sources":["/Users/jonaslemueldatu/node_modules/@shopify/polaris/build/esm/components/LegacyTabs/LegacyTabs.js"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport { CaretDownMinor, HorizontalDotsMinor } from '@shopify/polaris-icons';\nimport { classNames } from '../../utilities/css.js';\nimport { getVisibleAndHiddenTabIndices } from './utilities.js';\nimport styles from './LegacyTabs.scss.js';\nimport { Panel } from './components/Panel/Panel.js';\nimport { TabMeasurer } from './components/TabMeasurer/TabMeasurer.js';\nimport { List } from './components/List/List.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Tab } from './components/Tab/Tab.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { Box } from '../Box/Box.js';\nimport { Popover } from '../Popover/Popover.js';\n\nclass TabsInner extends PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      disclosureWidth: 0,\n      containerWidth: Infinity,\n      tabWidths: [],\n      visibleTabs: [],\n      hiddenTabs: [],\n      showDisclosure: false,\n      tabToFocus: -1\n    };\n\n    this.handleKeyPress = event => {\n      const {\n        tabToFocus,\n        visibleTabs,\n        hiddenTabs,\n        showDisclosure\n      } = this.state;\n      const key = event.key;\n      const tabsArrayInOrder = showDisclosure ? visibleTabs.concat(hiddenTabs) : [...visibleTabs];\n      let newFocus = tabsArrayInOrder.indexOf(tabToFocus);\n\n      if (key === 'ArrowRight') {\n        newFocus += 1;\n\n        if (newFocus === tabsArrayInOrder.length) {\n          newFocus = 0;\n        }\n      }\n\n      if (key === 'ArrowLeft') {\n        if (newFocus === -1 || newFocus === 0) {\n          newFocus = tabsArrayInOrder.length - 1;\n        } else {\n          newFocus -= 1;\n        }\n      }\n\n      this.setState({\n        tabToFocus: tabsArrayInOrder[newFocus]\n      });\n    };\n\n    this.renderTabMarkup = (tab, index) => {\n      const {\n        selected,\n        children\n      } = this.props;\n      const {\n        tabToFocus\n      } = this.state;\n      const tabPanelID = tab.panelID || `${tab.id}-panel`;\n      return /*#__PURE__*/React.createElement(Tab, {\n        key: `${index}-${tab.id}`,\n        id: tab.id,\n        siblingTabHasFocus: tabToFocus > -1,\n        focused: index === tabToFocus,\n        selected: index === selected,\n        onClick: this.handleTabClick,\n        panelID: children ? tabPanelID : undefined,\n        accessibilityLabel: tab.accessibilityLabel,\n        url: tab.url\n      }, tab.content);\n    };\n\n    this.handleFocus = event => {\n      const {\n        selected,\n        tabs\n      } = this.props; // If we are explicitly focusing a non-selected tab, this focuses it\n\n      const target = event.target;\n\n      if (target.classList.contains(styles.Tab) || target.classList.contains(styles.Item)) {\n        let tabToFocus = -1;\n        tabs.every((tab, index) => {\n          if (tab.id === target.id) {\n            tabToFocus = index;\n            return false;\n          }\n\n          return true;\n        });\n        this.setState({\n          tabToFocus\n        });\n        return;\n      }\n\n      if (target.classList.contains(styles.DisclosureActivator)) {\n        return;\n      } // If we are coming in from somewhere other than another tab, focus the\n      // selected tab, and the focus (click) is not on the disclosure activator,\n      // focus the selected tab\n\n\n      if (!event.relatedTarget) {\n        this.setState({\n          tabToFocus: selected\n        });\n        return;\n      }\n\n      const relatedTarget = event.relatedTarget;\n\n      if (relatedTarget instanceof HTMLElement && !relatedTarget.classList.contains(styles.Tab) && !relatedTarget.classList.contains(styles.Item) && !relatedTarget.classList.contains(styles.DisclosureActivator)) {\n        this.setState({\n          tabToFocus: selected\n        });\n      }\n    };\n\n    this.handleBlur = event => {\n      // If we blur and the target is not another tab, forget the focus position\n      if (event.relatedTarget == null) {\n        this.setState({\n          tabToFocus: -1\n        });\n        return;\n      }\n\n      const target = event.relatedTarget; // If we are going to anywhere other than another tab, lose the last focused tab\n\n      if (target instanceof HTMLElement && !target.classList.contains(styles.Tab) && !target.classList.contains(styles.Item)) {\n        this.setState({\n          tabToFocus: -1\n        });\n      }\n    };\n\n    this.handleDisclosureActivatorClick = () => {\n      this.setState(({\n        showDisclosure\n      }) => ({\n        showDisclosure: !showDisclosure\n      }));\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        showDisclosure: false\n      });\n    };\n\n    this.handleMeasurement = measurements => {\n      const {\n        tabs,\n        selected\n      } = this.props;\n      const {\n        tabToFocus\n      } = this.state;\n      const {\n        hiddenTabWidths: tabWidths,\n        containerWidth,\n        disclosureWidth\n      } = measurements;\n      const {\n        visibleTabs,\n        hiddenTabs\n      } = getVisibleAndHiddenTabIndices(tabs, selected, disclosureWidth, tabWidths, containerWidth);\n      this.setState({\n        tabToFocus: tabToFocus === -1 ? -1 : selected,\n        visibleTabs,\n        hiddenTabs,\n        disclosureWidth,\n        containerWidth,\n        tabWidths\n      });\n    };\n\n    this.handleTabClick = id => {\n      const {\n        tabs,\n        onSelect = noop\n      } = this.props;\n      const tab = tabs.find(aTab => aTab.id === id);\n\n      if (tab == null) {\n        return;\n      }\n\n      const selectedIndex = tabs.indexOf(tab);\n      onSelect(selectedIndex);\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      disclosureWidth,\n      tabWidths,\n      containerWidth\n    } = prevState;\n    const {\n      visibleTabs,\n      hiddenTabs\n    } = getVisibleAndHiddenTabIndices(nextProps.tabs, nextProps.selected, disclosureWidth, tabWidths, containerWidth);\n    return {\n      visibleTabs,\n      hiddenTabs,\n      selected: nextProps.selected\n    };\n  }\n\n  render() {\n    const {\n      tabs,\n      selected,\n      fitted,\n      children,\n      i18n,\n      disclosureText\n    } = this.props;\n    const {\n      tabToFocus,\n      visibleTabs,\n      hiddenTabs,\n      showDisclosure\n    } = this.state;\n    const disclosureTabs = hiddenTabs.map(tabIndex => tabs[tabIndex]);\n    const panelMarkup = children ? tabs.map((_tab, index) => {\n      return selected === index ? /*#__PURE__*/React.createElement(Panel, {\n        id: tabs[index].panelID || `${tabs[index].id}-panel`,\n        tabID: tabs[index].id,\n        key: tabs[index].id\n      }, children) : /*#__PURE__*/React.createElement(Panel, {\n        id: tabs[index].panelID || `${tabs[index].id}-panel`,\n        tabID: tabs[index].id,\n        key: tabs[index].id,\n        hidden: true\n      });\n    }) : null;\n    const tabsMarkup = visibleTabs.sort((tabA, tabB) => tabA - tabB).map(tabIndex => this.renderTabMarkup(tabs[tabIndex], tabIndex));\n    const disclosureActivatorVisible = visibleTabs.length < tabs.length;\n    const hasCustomDisclosure = Boolean(disclosureText);\n    const classname = classNames(styles.LegacyTabs, fitted && styles.fitted, disclosureActivatorVisible && styles.fillSpace);\n    const disclosureTabClassName = classNames(styles.DisclosureTab, disclosureActivatorVisible && styles['DisclosureTab-visible']);\n    const disclosureButtonClassName = classNames(styles.DisclosureActivator, hasCustomDisclosure && styles.Tab);\n    const disclosureButtonContentWrapperClassName = classNames(styles.Title, hasCustomDisclosure && styles.titleWithIcon);\n    const disclosureButtonContent = hasCustomDisclosure ? /*#__PURE__*/React.createElement(React.Fragment, null, disclosureText, /*#__PURE__*/React.createElement(Icon, {\n      source: CaretDownMinor,\n      color: \"subdued\"\n    })) : /*#__PURE__*/React.createElement(Icon, {\n      source: HorizontalDotsMinor,\n      color: \"subdued\"\n    });\n    const disclosureButton = /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: disclosureButtonClassName,\n      onClick: this.handleDisclosureActivatorClick,\n      \"aria-label\": i18n.translate('Polaris.Tabs.toggleTabsLabel')\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: disclosureButtonContentWrapperClassName\n    }, disclosureButtonContent));\n    const activator = disclosureText ? /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.TabContainer\n    }, disclosureButton) : disclosureButton;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Box, {\n      borderBlockEndWidth: \"1\",\n      borderColor: \"border-subdued\",\n      paddingInlineStart: \"2\",\n      paddingInlineEnd: \"2\"\n    }, /*#__PURE__*/React.createElement(TabMeasurer, {\n      tabToFocus: tabToFocus,\n      activator: activator,\n      selected: selected,\n      tabs: tabs,\n      siblingTabHasFocus: tabToFocus > -1,\n      handleMeasurement: this.handleMeasurement\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      role: \"tablist\",\n      className: classname,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onKeyDown: handleKeyDown,\n      onKeyUp: this.handleKeyPress\n    }, tabsMarkup, /*#__PURE__*/React.createElement(\"li\", {\n      className: disclosureTabClassName,\n      role: \"presentation\"\n    }, /*#__PURE__*/React.createElement(Popover, {\n      preferredPosition: \"below\",\n      activator: activator,\n      active: disclosureActivatorVisible && showDisclosure,\n      onClose: this.handleClose,\n      autofocusTarget: \"first-node\"\n    }, /*#__PURE__*/React.createElement(List, {\n      focusIndex: hiddenTabs.indexOf(tabToFocus),\n      disclosureTabs: disclosureTabs,\n      onClick: this.handleTabClick,\n      onKeyPress: this.handleKeyPress\n    }))))), panelMarkup);\n  }\n\n}\n\nfunction noop() {}\n\nfunction handleKeyDown(event) {\n  const {\n    key\n  } = event;\n\n  if (key === 'ArrowLeft' || key === 'ArrowRight') {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n\nfunction LegacyTabs(props) {\n  const i18n = useI18n();\n  return /*#__PURE__*/React.createElement(TabsInner, Object.assign({}, props, {\n    i18n: i18n\n  }));\n}\n\nexport { LegacyTabs };\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,aAAa,QAAQ,OAAO;AAC5C,SAASC,cAAc,EAAEC,mBAAmB,QAAQ,wBAAwB;AAC5E,SAASC,UAAU,QAAQ,wBAAwB;AACnD,SAASC,6BAA6B,QAAQ,gBAAgB;AAC9D,OAAOC,MAAM,MAAM,sBAAsB;AACzC,SAASC,KAAK,QAAQ,6BAA6B;AACnD,SAASC,WAAW,QAAQ,yCAAyC;AACrE,SAASC,IAAI,QAAQ,2BAA2B;AAChD,SAASC,OAAO,QAAQ,+BAA+B;AACvD,SAASC,GAAG,QAAQ,yBAAyB;AAC7C,SAASC,IAAI,QAAQ,iBAAiB;AACtC,SAASC,GAAG,QAAQ,eAAe;AACnC,SAASC,OAAO,QAAQ,uBAAuB;AAE/C,MAAMC,SAAS,SAASd,aAAa,CAAC;EACpCe,WAAWA,CAAA,EAAU;IACnB,KAAK,CAAC,GAAAC,SAAO,CAAC;IACd,IAAI,CAACC,KAAK,GAAG;MACXC,eAAe,EAAE,CAAC;MAClBC,cAAc,EAAEC,QAAQ;MACxBC,SAAS,EAAE,EAAE;MACbC,WAAW,EAAE,EAAE;MACfC,UAAU,EAAE,EAAE;MACdC,cAAc,EAAE,KAAK;MACrBC,UAAU,EAAE,CAAC;IACf,CAAC;IAED,IAAI,CAACC,cAAc,GAAGC,KAAK,IAAI;MAC7B,MAAM;QACJF,UAAU;QACVH,WAAW;QACXC,UAAU;QACVC;MACF,CAAC,GAAG,IAAI,CAACP,KAAK;MACd,MAAMW,GAAG,GAAGD,KAAK,CAACC,GAAG;MACrB,MAAMC,gBAAgB,GAAGL,cAAc,GAAGF,WAAW,CAACQ,MAAM,CAACP,UAAU,CAAC,GAAG,CAAC,GAAGD,WAAW,CAAC;MAC3F,IAAIS,QAAQ,GAAGF,gBAAgB,CAACG,OAAO,CAACP,UAAU,CAAC;MAEnD,IAAIG,GAAG,KAAK,YAAY,EAAE;QACxBG,QAAQ,IAAI,CAAC;QAEb,IAAIA,QAAQ,KAAKF,gBAAgB,CAACI,MAAM,EAAE;UACxCF,QAAQ,GAAG,CAAC;QACd;MACF;MAEA,IAAIH,GAAG,KAAK,WAAW,EAAE;QACvB,IAAIG,QAAQ,KAAK,CAAC,CAAC,IAAIA,QAAQ,KAAK,CAAC,EAAE;UACrCA,QAAQ,GAAGF,gBAAgB,CAACI,MAAM,GAAG,CAAC;QACxC,CAAC,MAAM;UACLF,QAAQ,IAAI,CAAC;QACf;MACF;MAEA,IAAI,CAACG,QAAQ,CAAC;QACZT,UAAU,EAAEI,gBAAgB,CAACE,QAAQ;MACvC,CAAC,CAAC;IACJ,CAAC;IAED,IAAI,CAACI,eAAe,GAAG,CAACC,GAAG,EAAEC,KAAK,KAAK;MACrC,MAAM;QACJC,QAAQ;QACRC;MACF,CAAC,GAAG,IAAI,CAACC,KAAK;MACd,MAAM;QACJf;MACF,CAAC,GAAG,IAAI,CAACR,KAAK;MACd,MAAMwB,UAAU,GAAGL,GAAG,CAACM,OAAO,IAAK,GAAEN,GAAG,CAACO,EAAG,QAAO;MACnD,OAAO,aAAa5C,KAAK,CAAC6C,aAAa,CAAClC,GAAG,EAAE;QAC3CkB,GAAG,EAAG,GAAES,KAAM,IAAGD,GAAG,CAACO,EAAG,EAAC;QACzBA,EAAE,EAAEP,GAAG,CAACO,EAAE;QACVE,kBAAkB,EAAEpB,UAAU,GAAG,CAAC,CAAC;QACnCqB,OAAO,EAAET,KAAK,KAAKZ,UAAU;QAC7Ba,QAAQ,EAAED,KAAK,KAAKC,QAAQ;QAC5BS,OAAO,EAAE,IAAI,CAACC,cAAc;QAC5BN,OAAO,EAAEH,QAAQ,GAAGE,UAAU,GAAGQ,SAAS;QAC1CC,kBAAkB,EAAEd,GAAG,CAACc,kBAAkB;QAC1CC,GAAG,EAAEf,GAAG,CAACe;MACX,CAAC,EAAEf,GAAG,CAACgB,OAAO,CAAC;IACjB,CAAC;IAED,IAAI,CAACC,WAAW,GAAG1B,KAAK,IAAI;MAC1B,MAAM;QACJW,QAAQ;QACRgB;MACF,CAAC,GAAG,IAAI,CAACd,KAAK,CAAC,CAAC;;MAEhB,MAAMe,MAAM,GAAG5B,KAAK,CAAC4B,MAAM;MAE3B,IAAIA,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACpD,MAAM,CAACK,GAAG,CAAC,IAAI6C,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACpD,MAAM,CAACqD,IAAI,CAAC,EAAE;QACnF,IAAIjC,UAAU,GAAG,CAAC,CAAC;QACnB6B,IAAI,CAACK,KAAK,CAAC,CAACvB,GAAG,EAAEC,KAAK,KAAK;UACzB,IAAID,GAAG,CAACO,EAAE,KAAKY,MAAM,CAACZ,EAAE,EAAE;YACxBlB,UAAU,GAAGY,KAAK;YAClB,OAAO,KAAK;UACd;UAEA,OAAO,IAAI;QACb,CAAC,CAAC;QACF,IAAI,CAACH,QAAQ,CAAC;UACZT;QACF,CAAC,CAAC;QACF;MACF;MAEA,IAAI8B,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACpD,MAAM,CAACuD,mBAAmB,CAAC,EAAE;QACzD;MACF,CAAC,CAAC;MACF;MACA;;MAGA,IAAI,CAACjC,KAAK,CAACkC,aAAa,EAAE;QACxB,IAAI,CAAC3B,QAAQ,CAAC;UACZT,UAAU,EAAEa;QACd,CAAC,CAAC;QACF;MACF;MAEA,MAAMuB,aAAa,GAAGlC,KAAK,CAACkC,aAAa;MAEzC,IAAIA,aAAa,YAAYC,WAAW,IAAI,CAACD,aAAa,CAACL,SAAS,CAACC,QAAQ,CAACpD,MAAM,CAACK,GAAG,CAAC,IAAI,CAACmD,aAAa,CAACL,SAAS,CAACC,QAAQ,CAACpD,MAAM,CAACqD,IAAI,CAAC,IAAI,CAACG,aAAa,CAACL,SAAS,CAACC,QAAQ,CAACpD,MAAM,CAACuD,mBAAmB,CAAC,EAAE;QAC5M,IAAI,CAAC1B,QAAQ,CAAC;UACZT,UAAU,EAAEa;QACd,CAAC,CAAC;MACJ;IACF,CAAC;IAED,IAAI,CAACyB,UAAU,GAAGpC,KAAK,IAAI;MACzB;MACA,IAAIA,KAAK,CAACkC,aAAa,IAAI,IAAI,EAAE;QAC/B,IAAI,CAAC3B,QAAQ,CAAC;UACZT,UAAU,EAAE,CAAC;QACf,CAAC,CAAC;QACF;MACF;MAEA,MAAM8B,MAAM,GAAG5B,KAAK,CAACkC,aAAa,CAAC,CAAC;;MAEpC,IAAIN,MAAM,YAAYO,WAAW,IAAI,CAACP,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACpD,MAAM,CAACK,GAAG,CAAC,IAAI,CAAC6C,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACpD,MAAM,CAACqD,IAAI,CAAC,EAAE;QACtH,IAAI,CAACxB,QAAQ,CAAC;UACZT,UAAU,EAAE,CAAC;QACf,CAAC,CAAC;MACJ;IACF,CAAC;IAED,IAAI,CAACuC,8BAA8B,GAAG,MAAM;MAC1C,IAAI,CAAC9B,QAAQ,CAAC+B,IAAA;QAAA,IAAC;UACbzC;QACF,CAAC,GAAAyC,IAAA;QAAA,OAAM;UACLzC,cAAc,EAAE,CAACA;QACnB,CAAC;MAAA,CAAC,CAAC;IACL,CAAC;IAED,IAAI,CAAC0C,WAAW,GAAG,MAAM;MACvB,IAAI,CAAChC,QAAQ,CAAC;QACZV,cAAc,EAAE;MAClB,CAAC,CAAC;IACJ,CAAC;IAED,IAAI,CAAC2C,iBAAiB,GAAGC,YAAY,IAAI;MACvC,MAAM;QACJd,IAAI;QACJhB;MACF,CAAC,GAAG,IAAI,CAACE,KAAK;MACd,MAAM;QACJf;MACF,CAAC,GAAG,IAAI,CAACR,KAAK;MACd,MAAM;QACJoD,eAAe,EAAEhD,SAAS;QAC1BF,cAAc;QACdD;MACF,CAAC,GAAGkD,YAAY;MAChB,MAAM;QACJ9C,WAAW;QACXC;MACF,CAAC,GAAGnB,6BAA6B,CAACkD,IAAI,EAAEhB,QAAQ,EAAEpB,eAAe,EAAEG,SAAS,EAAEF,cAAc,CAAC;MAC7F,IAAI,CAACe,QAAQ,CAAC;QACZT,UAAU,EAAEA,UAAU,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAGa,QAAQ;QAC7ChB,WAAW;QACXC,UAAU;QACVL,eAAe;QACfC,cAAc;QACdE;MACF,CAAC,CAAC;IACJ,CAAC;IAED,IAAI,CAAC2B,cAAc,GAAGL,EAAE,IAAI;MAC1B,MAAM;QACJW,IAAI;QACJgB,QAAQ,GAAGC;MACb,CAAC,GAAG,IAAI,CAAC/B,KAAK;MACd,MAAMJ,GAAG,GAAGkB,IAAI,CAACkB,IAAI,CAACC,IAAI,IAAIA,IAAI,CAAC9B,EAAE,KAAKA,EAAE,CAAC;MAE7C,IAAIP,GAAG,IAAI,IAAI,EAAE;QACf;MACF;MAEA,MAAMsC,aAAa,GAAGpB,IAAI,CAACtB,OAAO,CAACI,GAAG,CAAC;MACvCkC,QAAQ,CAACI,aAAa,CAAC;IACzB,CAAC;EACH;EAEA,OAAOC,wBAAwBA,CAACC,SAAS,EAAEC,SAAS,EAAE;IACpD,MAAM;MACJ3D,eAAe;MACfG,SAAS;MACTF;IACF,CAAC,GAAG0D,SAAS;IACb,MAAM;MACJvD,WAAW;MACXC;IACF,CAAC,GAAGnB,6BAA6B,CAACwE,SAAS,CAACtB,IAAI,EAAEsB,SAAS,CAACtC,QAAQ,EAAEpB,eAAe,EAAEG,SAAS,EAAEF,cAAc,CAAC;IACjH,OAAO;MACLG,WAAW;MACXC,UAAU;MACVe,QAAQ,EAAEsC,SAAS,CAACtC;IACtB,CAAC;EACH;EAEAwC,MAAMA,CAAA,EAAG;IACP,MAAM;MACJxB,IAAI;MACJhB,QAAQ;MACRyC,MAAM;MACNxC,QAAQ;MACRyC,IAAI;MACJC;IACF,CAAC,GAAG,IAAI,CAACzC,KAAK;IACd,MAAM;MACJf,UAAU;MACVH,WAAW;MACXC,UAAU;MACVC;IACF,CAAC,GAAG,IAAI,CAACP,KAAK;IACd,MAAMiE,cAAc,GAAG3D,UAAU,CAAC4D,GAAG,CAACC,QAAQ,IAAI9B,IAAI,CAAC8B,QAAQ,CAAC,CAAC;IACjE,MAAMC,WAAW,GAAG9C,QAAQ,GAAGe,IAAI,CAAC6B,GAAG,CAAC,CAACG,IAAI,EAAEjD,KAAK,KAAK;MACvD,OAAOC,QAAQ,KAAKD,KAAK,GAAG,aAAatC,KAAK,CAAC6C,aAAa,CAACtC,KAAK,EAAE;QAClEqC,EAAE,EAAEW,IAAI,CAACjB,KAAK,CAAC,CAACK,OAAO,IAAK,GAAEY,IAAI,CAACjB,KAAK,CAAC,CAACM,EAAG,QAAO;QACpD4C,KAAK,EAAEjC,IAAI,CAACjB,KAAK,CAAC,CAACM,EAAE;QACrBf,GAAG,EAAE0B,IAAI,CAACjB,KAAK,CAAC,CAACM;MACnB,CAAC,EAAEJ,QAAQ,CAAC,GAAG,aAAaxC,KAAK,CAAC6C,aAAa,CAACtC,KAAK,EAAE;QACrDqC,EAAE,EAAEW,IAAI,CAACjB,KAAK,CAAC,CAACK,OAAO,IAAK,GAAEY,IAAI,CAACjB,KAAK,CAAC,CAACM,EAAG,QAAO;QACpD4C,KAAK,EAAEjC,IAAI,CAACjB,KAAK,CAAC,CAACM,EAAE;QACrBf,GAAG,EAAE0B,IAAI,CAACjB,KAAK,CAAC,CAACM,EAAE;QACnB6C,MAAM,EAAE;MACV,CAAC,CAAC;IACJ,CAAC,CAAC,GAAG,IAAI;IACT,MAAMC,UAAU,GAAGnE,WAAW,CAACoE,IAAI,CAAC,CAACC,IAAI,EAAEC,IAAI,KAAKD,IAAI,GAAGC,IAAI,CAAC,CAACT,GAAG,CAACC,QAAQ,IAAI,IAAI,CAACjD,eAAe,CAACmB,IAAI,CAAC8B,QAAQ,CAAC,EAAEA,QAAQ,CAAC,CAAC;IAChI,MAAMS,0BAA0B,GAAGvE,WAAW,CAACW,MAAM,GAAGqB,IAAI,CAACrB,MAAM;IACnE,MAAM6D,mBAAmB,GAAGC,OAAO,CAACd,cAAc,CAAC;IACnD,MAAMe,SAAS,GAAG7F,UAAU,CAACE,MAAM,CAAC4F,UAAU,EAAElB,MAAM,IAAI1E,MAAM,CAAC0E,MAAM,EAAEc,0BAA0B,IAAIxF,MAAM,CAAC6F,SAAS,CAAC;IACxH,MAAMC,sBAAsB,GAAGhG,UAAU,CAACE,MAAM,CAAC+F,aAAa,EAAEP,0BAA0B,IAAIxF,MAAM,CAAC,uBAAuB,CAAC,CAAC;IAC9H,MAAMgG,yBAAyB,GAAGlG,UAAU,CAACE,MAAM,CAACuD,mBAAmB,EAAEkC,mBAAmB,IAAIzF,MAAM,CAACK,GAAG,CAAC;IAC3G,MAAM4F,uCAAuC,GAAGnG,UAAU,CAACE,MAAM,CAACkG,KAAK,EAAET,mBAAmB,IAAIzF,MAAM,CAACmG,aAAa,CAAC;IACrH,MAAMC,uBAAuB,GAAGX,mBAAmB,GAAG,aAAa/F,KAAK,CAAC6C,aAAa,CAAC7C,KAAK,CAAC2G,QAAQ,EAAE,IAAI,EAAEzB,cAAc,EAAE,aAAalF,KAAK,CAAC6C,aAAa,CAACjC,IAAI,EAAE;MAClKgG,MAAM,EAAE1G,cAAc;MACtB2G,KAAK,EAAE;IACT,CAAC,CAAC,CAAC,GAAG,aAAa7G,KAAK,CAAC6C,aAAa,CAACjC,IAAI,EAAE;MAC3CgG,MAAM,EAAEzG,mBAAmB;MAC3B0G,KAAK,EAAE;IACT,CAAC,CAAC;IACF,MAAMC,gBAAgB,GAAG,aAAa9G,KAAK,CAAC6C,aAAa,CAAC,QAAQ,EAAE;MAClEkE,IAAI,EAAE,QAAQ;MACdC,SAAS,EAAEV,yBAAyB;MACpCtD,OAAO,EAAE,IAAI,CAACiB,8BAA8B;MAC5C,YAAY,EAAEgB,IAAI,CAACgC,SAAS,CAAC,8BAA8B;IAC7D,CAAC,EAAE,aAAajH,KAAK,CAAC6C,aAAa,CAAC,MAAM,EAAE;MAC1CmE,SAAS,EAAET;IACb,CAAC,EAAEG,uBAAuB,CAAC,CAAC;IAC5B,MAAMQ,SAAS,GAAGhC,cAAc,GAAG,aAAalF,KAAK,CAAC6C,aAAa,CAAC,KAAK,EAAE;MACzEmE,SAAS,EAAE1G,MAAM,CAAC6G;IACpB,CAAC,EAAEL,gBAAgB,CAAC,GAAGA,gBAAgB;IACvC,OAAO,aAAa9G,KAAK,CAAC6C,aAAa,CAAC,KAAK,EAAE,IAAI,EAAE,aAAa7C,KAAK,CAAC6C,aAAa,CAAChC,GAAG,EAAE;MACzFuG,mBAAmB,EAAE,GAAG;MACxBC,WAAW,EAAE,gBAAgB;MAC7BC,kBAAkB,EAAE,GAAG;MACvBC,gBAAgB,EAAE;IACpB,CAAC,EAAE,aAAavH,KAAK,CAAC6C,aAAa,CAACrC,WAAW,EAAE;MAC/CkB,UAAU,EAAEA,UAAU;MACtBwF,SAAS,EAAEA,SAAS;MACpB3E,QAAQ,EAAEA,QAAQ;MAClBgB,IAAI,EAAEA,IAAI;MACVT,kBAAkB,EAAEpB,UAAU,GAAG,CAAC,CAAC;MACnC0C,iBAAiB,EAAE,IAAI,CAACA;IAC1B,CAAC,CAAC,EAAE,aAAapE,KAAK,CAAC6C,aAAa,CAAC,IAAI,EAAE;MACzC2E,IAAI,EAAE,SAAS;MACfR,SAAS,EAAEf,SAAS;MACpBwB,OAAO,EAAE,IAAI,CAACnE,WAAW;MACzBoE,MAAM,EAAE,IAAI,CAAC1D,UAAU;MACvB2D,SAAS,EAAEC,aAAa;MACxBC,OAAO,EAAE,IAAI,CAAClG;IAChB,CAAC,EAAE+D,UAAU,EAAE,aAAa1F,KAAK,CAAC6C,aAAa,CAAC,IAAI,EAAE;MACpDmE,SAAS,EAAEZ,sBAAsB;MACjCoB,IAAI,EAAE;IACR,CAAC,EAAE,aAAaxH,KAAK,CAAC6C,aAAa,CAAC/B,OAAO,EAAE;MAC3CgH,iBAAiB,EAAE,OAAO;MAC1BZ,SAAS,EAAEA,SAAS;MACpBa,MAAM,EAAEjC,0BAA0B,IAAIrE,cAAc;MACpDuG,OAAO,EAAE,IAAI,CAAC7D,WAAW;MACzB8D,eAAe,EAAE;IACnB,CAAC,EAAE,aAAajI,KAAK,CAAC6C,aAAa,CAACpC,IAAI,EAAE;MACxCyH,UAAU,EAAE1G,UAAU,CAACS,OAAO,CAACP,UAAU,CAAC;MAC1CyD,cAAc,EAAEA,cAAc;MAC9BnC,OAAO,EAAE,IAAI,CAACC,cAAc;MAC5BkF,UAAU,EAAE,IAAI,CAACxG;IACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE2D,WAAW,CAAC;EACtB;AAEF;AAEA,SAASd,IAAIA,CAAA,EAAG,CAAC;AAEjB,SAASoD,aAAaA,CAAChG,KAAK,EAAE;EAC5B,MAAM;IACJC;EACF,CAAC,GAAGD,KAAK;EAET,IAAIC,GAAG,KAAK,WAAW,IAAIA,GAAG,KAAK,YAAY,EAAE;IAC/CD,KAAK,CAACwG,cAAc,CAAC,CAAC;IACtBxG,KAAK,CAACyG,eAAe,CAAC,CAAC;EACzB;AACF;AAEA,SAASnC,UAAUA,CAACzD,KAAK,EAAE;EACzB,MAAMwC,IAAI,GAAGvE,OAAO,CAAC,CAAC;EACtB,OAAO,aAAaV,KAAK,CAAC6C,aAAa,CAAC9B,SAAS,EAAEuH,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE9F,KAAK,EAAE;IAC1EwC,IAAI,EAAEA;EACR,CAAC,CAAC,CAAC;AACL;AAEA,SAASiB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}