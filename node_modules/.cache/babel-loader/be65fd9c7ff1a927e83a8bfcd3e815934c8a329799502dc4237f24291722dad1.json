{"ast":null,"code":"import { useRef } from 'react';\nimport isEqual from 'react-fast-compare';\n\n/**\n * Allows for custom or deep comparison of a dependency list. Useful to keep a consistent dependency\n * list across reference changes.\n * @param dependencies A dependency array similar to React's useEffect / useCallback / useMemo\n * @param comparator An optional function to compare dependencies that'll default to a deep comparison\n * @returns A dependency list\n * @see {@link https://github.com/Shopify/polaris-react/blob/main/src/utilities/use-deep-effect.tsx}\n * @see {@link https://github.com/Shopify/polaris-react/blob/main/src/utilities/use-deep-callback.tsx}\n * @example\n * function useDeepEffectExample(callback, dependencies, customCompare) {\n *  useEffect(callback, useDeepCompareRef(dependencies, customCompare));\n * }\n */\nfunction useDeepCompareRef(dependencies) {\n  let comparator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : isEqual;\n  const dependencyList = useRef(dependencies);\n  if (!comparator(dependencyList.current, dependencies)) {\n    dependencyList.current = dependencies;\n  }\n  return dependencyList.current;\n}\nexport { useDeepCompareRef };","map":{"version":3,"names":["useRef","isEqual","useDeepCompareRef","dependencies","comparator","arguments","length","undefined","dependencyList","current"],"sources":["/Users/jonaslemueldatu/node_modules/@shopify/polaris/build/esm/utilities/use-deep-compare-ref.js"],"sourcesContent":["import { useRef } from 'react';\nimport isEqual from 'react-fast-compare';\n\n/**\n * Allows for custom or deep comparison of a dependency list. Useful to keep a consistent dependency\n * list across reference changes.\n * @param dependencies A dependency array similar to React's useEffect / useCallback / useMemo\n * @param comparator An optional function to compare dependencies that'll default to a deep comparison\n * @returns A dependency list\n * @see {@link https://github.com/Shopify/polaris-react/blob/main/src/utilities/use-deep-effect.tsx}\n * @see {@link https://github.com/Shopify/polaris-react/blob/main/src/utilities/use-deep-callback.tsx}\n * @example\n * function useDeepEffectExample(callback, dependencies, customCompare) {\n *  useEffect(callback, useDeepCompareRef(dependencies, customCompare));\n * }\n */\nfunction useDeepCompareRef(dependencies, comparator = isEqual) {\n  const dependencyList = useRef(dependencies);\n\n  if (!comparator(dependencyList.current, dependencies)) {\n    dependencyList.current = dependencies;\n  }\n\n  return dependencyList.current;\n}\n\nexport { useDeepCompareRef };\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,OAAO;AAC9B,OAAOC,OAAO,MAAM,oBAAoB;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,iBAAiBA,CAACC,YAAY,EAAwB;EAAA,IAAtBC,UAAU,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGJ,OAAO;EAC3D,MAAMO,cAAc,GAAGR,MAAM,CAACG,YAAY,CAAC;EAE3C,IAAI,CAACC,UAAU,CAACI,cAAc,CAACC,OAAO,EAAEN,YAAY,CAAC,EAAE;IACrDK,cAAc,CAACC,OAAO,GAAGN,YAAY;EACvC;EAEA,OAAOK,cAAc,CAACC,OAAO;AAC/B;AAEA,SAASP,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}