{"ast":null,"code":"import React, { useRef, useEffect } from 'react';\nimport { Transition, CSSTransition } from 'react-transition-group';\nimport { motion } from '@shopify/polaris-tokens';\nimport { classNames } from '../../../../utilities/css.js';\nimport { focusFirstFocusableNode } from '../../../../utilities/focus.js';\nimport { Key } from '../../../../types.js';\nimport styles from './Dialog.scss.js';\nimport { TrapFocus } from '../../../TrapFocus/TrapFocus.js';\nimport { KeypressListener } from '../../../KeypressListener/KeypressListener.js';\nfunction Dialog(_ref) {\n  let {\n    instant,\n    labelledBy,\n    children,\n    onClose,\n    onExited,\n    onEntered,\n    large,\n    small,\n    limitHeight,\n    fullScreen,\n    setClosing,\n    ...props\n  } = _ref;\n  const containerNode = useRef(null);\n  const classes = classNames(styles.Modal, small && styles.sizeSmall, large && styles.sizeLarge, limitHeight && styles.limitHeight, fullScreen && styles.fullScreen);\n  const TransitionChild = instant ? Transition : FadeUp;\n  useEffect(() => {\n    containerNode.current && !containerNode.current.contains(document.activeElement) && focusFirstFocusableNode(containerNode.current);\n  }, []);\n  const handleKeyDown = () => {\n    if (setClosing) {\n      setClosing(true);\n    }\n  };\n  const handleKeyUp = () => {\n    if (setClosing) {\n      setClosing(false);\n    }\n    onClose();\n  };\n  return /*#__PURE__*/React.createElement(TransitionChild, Object.assign({}, props, {\n    nodeRef: containerNode,\n    mountOnEnter: true,\n    unmountOnExit: true,\n    timeout: parseInt(motion['duration-200'], 10),\n    onEntered: onEntered,\n    onExited: onExited\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Container,\n    \"data-polaris-layer\": true,\n    \"data-polaris-overlay\": true,\n    ref: containerNode\n  }, /*#__PURE__*/React.createElement(TrapFocus, null, /*#__PURE__*/React.createElement(\"div\", {\n    role: \"dialog\",\n    \"aria-modal\": true,\n    \"aria-label\": labelledBy,\n    \"aria-labelledby\": labelledBy,\n    tabIndex: -1,\n    className: styles.Dialog\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes\n  }, /*#__PURE__*/React.createElement(KeypressListener, {\n    keyCode: Key.Escape,\n    keyEvent: \"keydown\",\n    handler: handleKeyDown\n  }), /*#__PURE__*/React.createElement(KeypressListener, {\n    keyCode: Key.Escape,\n    handler: handleKeyUp\n  }), children)))));\n}\nconst fadeUpClasses = {\n  appear: classNames(styles.animateFadeUp, styles.entering),\n  appearActive: classNames(styles.animateFadeUp, styles.entered),\n  enter: classNames(styles.animateFadeUp, styles.entering),\n  enterActive: classNames(styles.animateFadeUp, styles.entered),\n  exit: classNames(styles.animateFadeUp, styles.exiting),\n  exitActive: classNames(styles.animateFadeUp, styles.exited)\n};\nfunction FadeUp(_ref2) {\n  let {\n    children,\n    ...props\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(CSSTransition, Object.assign({}, props, {\n    classNames: fadeUpClasses\n  }), children);\n}\nexport { Dialog };","map":{"version":3,"names":["React","useRef","useEffect","Transition","CSSTransition","motion","classNames","focusFirstFocusableNode","Key","styles","TrapFocus","KeypressListener","Dialog","_ref","instant","labelledBy","children","onClose","onExited","onEntered","large","small","limitHeight","fullScreen","setClosing","props","containerNode","classes","Modal","sizeSmall","sizeLarge","TransitionChild","FadeUp","current","contains","document","activeElement","handleKeyDown","handleKeyUp","createElement","Object","assign","nodeRef","mountOnEnter","unmountOnExit","timeout","parseInt","className","Container","ref","role","tabIndex","keyCode","Escape","keyEvent","handler","fadeUpClasses","appear","animateFadeUp","entering","appearActive","entered","enter","enterActive","exit","exiting","exitActive","exited","_ref2"],"sources":["/Users/jonaslemueldatu/node_modules/@shopify/polaris/build/esm/components/Modal/components/Dialog/Dialog.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { Transition, CSSTransition } from 'react-transition-group';\nimport { motion } from '@shopify/polaris-tokens';\nimport { classNames } from '../../../../utilities/css.js';\nimport { focusFirstFocusableNode } from '../../../../utilities/focus.js';\nimport { Key } from '../../../../types.js';\nimport styles from './Dialog.scss.js';\nimport { TrapFocus } from '../../../TrapFocus/TrapFocus.js';\nimport { KeypressListener } from '../../../KeypressListener/KeypressListener.js';\n\nfunction Dialog({\n  instant,\n  labelledBy,\n  children,\n  onClose,\n  onExited,\n  onEntered,\n  large,\n  small,\n  limitHeight,\n  fullScreen,\n  setClosing,\n  ...props\n}) {\n  const containerNode = useRef(null);\n  const classes = classNames(styles.Modal, small && styles.sizeSmall, large && styles.sizeLarge, limitHeight && styles.limitHeight, fullScreen && styles.fullScreen);\n  const TransitionChild = instant ? Transition : FadeUp;\n  useEffect(() => {\n    containerNode.current && !containerNode.current.contains(document.activeElement) && focusFirstFocusableNode(containerNode.current);\n  }, []);\n\n  const handleKeyDown = () => {\n    if (setClosing) {\n      setClosing(true);\n    }\n  };\n\n  const handleKeyUp = () => {\n    if (setClosing) {\n      setClosing(false);\n    }\n\n    onClose();\n  };\n\n  return /*#__PURE__*/React.createElement(TransitionChild, Object.assign({}, props, {\n    nodeRef: containerNode,\n    mountOnEnter: true,\n    unmountOnExit: true,\n    timeout: parseInt(motion['duration-200'], 10),\n    onEntered: onEntered,\n    onExited: onExited\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Container,\n    \"data-polaris-layer\": true,\n    \"data-polaris-overlay\": true,\n    ref: containerNode\n  }, /*#__PURE__*/React.createElement(TrapFocus, null, /*#__PURE__*/React.createElement(\"div\", {\n    role: \"dialog\",\n    \"aria-modal\": true,\n    \"aria-label\": labelledBy,\n    \"aria-labelledby\": labelledBy,\n    tabIndex: -1,\n    className: styles.Dialog\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes\n  }, /*#__PURE__*/React.createElement(KeypressListener, {\n    keyCode: Key.Escape,\n    keyEvent: \"keydown\",\n    handler: handleKeyDown\n  }), /*#__PURE__*/React.createElement(KeypressListener, {\n    keyCode: Key.Escape,\n    handler: handleKeyUp\n  }), children)))));\n}\nconst fadeUpClasses = {\n  appear: classNames(styles.animateFadeUp, styles.entering),\n  appearActive: classNames(styles.animateFadeUp, styles.entered),\n  enter: classNames(styles.animateFadeUp, styles.entering),\n  enterActive: classNames(styles.animateFadeUp, styles.entered),\n  exit: classNames(styles.animateFadeUp, styles.exiting),\n  exitActive: classNames(styles.animateFadeUp, styles.exited)\n};\n\nfunction FadeUp({\n  children,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(CSSTransition, Object.assign({}, props, {\n    classNames: fadeUpClasses\n  }), children);\n}\n\nexport { Dialog };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}