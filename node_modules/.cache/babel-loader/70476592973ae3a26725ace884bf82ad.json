{"ast":null,"code":"import { __assign } from '../_virtual/_tslib.js';\nimport * as React from 'react';\nimport { AuthContextConsumer } from '../AuthContext.js';\nimport { AuthKitError } from '../errors.js';\nimport { isAuthenticated } from '../utils/utils.js';\n\n/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview Authentication header <Higher Order Component>\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @public\n * @function\n * @name withAuthHeader\n * @description Inject Authentication Header inside the Component's Prop\n * @param Component - React Component\n */\nfunction withAuthHeader(Component) {\n  return function (props) {\n    return React.createElement(AuthContextConsumer, null, function (c) {\n      if (c === null) {\n        throw new AuthKitError('Auth Provider is missing. ' + 'Please add the AuthProvider before Router');\n      }\n      if (c.authState.auth && isAuthenticated(c.authState)) {\n        return React.createElement(Component, __assign({}, props, {\n          authHeader: \"\".concat(c.authState.auth.type, \" \").concat(c.authState.auth.token)\n        }));\n      } else {\n        return React.createElement(Component, __assign({}, props, {\n          authHeader: \"\"\n        }));\n      }\n    });\n  };\n}\nexport { withAuthHeader as default };","map":null,"metadata":{},"sourceType":"module"}