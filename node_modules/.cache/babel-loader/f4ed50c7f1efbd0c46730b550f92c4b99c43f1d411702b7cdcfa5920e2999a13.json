{"ast":null,"code":"import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { focusFirstFocusableNode } from '../../../../../../utilities/focus.js';\nimport { Modal } from '../../../../../Modal/Modal.js';\nimport { Form } from '../../../../../Form/Form.js';\nimport { FormLayout } from '../../../../../FormLayout/FormLayout.js';\nimport { useI18n } from '../../../../../../utilities/i18n/hooks.js';\nimport { TextField } from '../../../../../TextField/TextField.js';\nfunction RenameModal(_ref) {\n  let {\n    open,\n    isModalLoading,\n    name,\n    onClose,\n    onClickPrimaryAction,\n    onClickSecondaryAction,\n    helpText,\n    viewNames\n  } = _ref;\n  const i18n = useI18n();\n  const [value, setValue] = useState(name);\n  const container = useRef(null);\n  const hasSameNameError = viewNames === null || viewNames === void 0 ? void 0 : viewNames.filter(viewName => viewName !== name).some(viewName => viewName.trim().toLowerCase() === value.trim().toLowerCase());\n  const isPrimaryActionDisabled = isModalLoading || hasSameNameError || value === name || !value;\n  useEffect(() => {\n    if (!container.current) return;\n    if (open) {\n      focusFirstFocusableNode(container.current);\n    }\n  }, [open]);\n  useEffect(() => {\n    if (open) {\n      setValue(name);\n    }\n  }, [name, open]);\n  const handleChange = useCallback(newValue => {\n    setValue(newValue);\n  }, []);\n  async function handlePrimaryAction() {\n    if (isPrimaryActionDisabled) {\n      return;\n    }\n    await onClickPrimaryAction(value);\n    setValue('');\n    onClose();\n  }\n  function handleSecondaryAction() {\n    onClickSecondaryAction === null || onClickSecondaryAction === void 0 ? void 0 : onClickSecondaryAction();\n    setValue(name);\n    onClose();\n  }\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    title: i18n.translate('Polaris.Tabs.RenameModal.title'),\n    primaryAction: {\n      content: i18n.translate('Polaris.Tabs.RenameModal.create'),\n      onAction: handlePrimaryAction,\n      disabled: isPrimaryActionDisabled\n    },\n    secondaryActions: [{\n      content: i18n.translate('Polaris.Tabs.RenameModal.cancel'),\n      onAction: handleSecondaryAction\n    }],\n    instant: true\n  }, /*#__PURE__*/React.createElement(Modal.Section, null, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handlePrimaryAction\n  }, /*#__PURE__*/React.createElement(FormLayout, null, /*#__PURE__*/React.createElement(\"div\", {\n    ref: container\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: i18n.translate('Polaris.Tabs.RenameModal.label'),\n    value: value,\n    onChange: handleChange,\n    autoComplete: \"off\",\n    helpText: helpText,\n    maxLength: 40,\n    showCharacterCount: true,\n    error: hasSameNameError ? i18n.translate('Polaris.Tabs.RenameModal.errors.sameName', {\n      name: value\n    }) : undefined\n  }))))));\n}\nexport { RenameModal };","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","focusFirstFocusableNode","Modal","Form","FormLayout","useI18n","TextField","RenameModal","_ref","open","isModalLoading","name","onClose","onClickPrimaryAction","onClickSecondaryAction","helpText","viewNames","i18n","value","setValue","container","hasSameNameError","filter","viewName","some","trim","toLowerCase","isPrimaryActionDisabled","current","handleChange","newValue","handlePrimaryAction","handleSecondaryAction","createElement","title","translate","primaryAction","content","onAction","disabled","secondaryActions","instant","Section","onSubmit","ref","label","onChange","autoComplete","maxLength","showCharacterCount","error","undefined"],"sources":["/Users/jonaslemueldatu/node_modules/@shopify/polaris/build/esm/components/AlphaTabs/components/Tab/components/RenameModal/RenameModal.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { focusFirstFocusableNode } from '../../../../../../utilities/focus.js';\nimport { Modal } from '../../../../../Modal/Modal.js';\nimport { Form } from '../../../../../Form/Form.js';\nimport { FormLayout } from '../../../../../FormLayout/FormLayout.js';\nimport { useI18n } from '../../../../../../utilities/i18n/hooks.js';\nimport { TextField } from '../../../../../TextField/TextField.js';\n\nfunction RenameModal({\n  open,\n  isModalLoading,\n  name,\n  onClose,\n  onClickPrimaryAction,\n  onClickSecondaryAction,\n  helpText,\n  viewNames\n}) {\n  const i18n = useI18n();\n  const [value, setValue] = useState(name);\n  const container = useRef(null);\n  const hasSameNameError = viewNames === null || viewNames === void 0 ? void 0 : viewNames.filter(viewName => viewName !== name).some(viewName => viewName.trim().toLowerCase() === value.trim().toLowerCase());\n  const isPrimaryActionDisabled = isModalLoading || hasSameNameError || value === name || !value;\n  useEffect(() => {\n    if (!container.current) return;\n\n    if (open) {\n      focusFirstFocusableNode(container.current);\n    }\n  }, [open]);\n  useEffect(() => {\n    if (open) {\n      setValue(name);\n    }\n  }, [name, open]);\n  const handleChange = useCallback(newValue => {\n    setValue(newValue);\n  }, []);\n\n  async function handlePrimaryAction() {\n    if (isPrimaryActionDisabled) {\n      return;\n    }\n\n    await onClickPrimaryAction(value);\n    setValue('');\n    onClose();\n  }\n\n  function handleSecondaryAction() {\n    onClickSecondaryAction === null || onClickSecondaryAction === void 0 ? void 0 : onClickSecondaryAction();\n    setValue(name);\n    onClose();\n  }\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    title: i18n.translate('Polaris.Tabs.RenameModal.title'),\n    primaryAction: {\n      content: i18n.translate('Polaris.Tabs.RenameModal.create'),\n      onAction: handlePrimaryAction,\n      disabled: isPrimaryActionDisabled\n    },\n    secondaryActions: [{\n      content: i18n.translate('Polaris.Tabs.RenameModal.cancel'),\n      onAction: handleSecondaryAction\n    }],\n    instant: true\n  }, /*#__PURE__*/React.createElement(Modal.Section, null, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handlePrimaryAction\n  }, /*#__PURE__*/React.createElement(FormLayout, null, /*#__PURE__*/React.createElement(\"div\", {\n    ref: container\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: i18n.translate('Polaris.Tabs.RenameModal.label'),\n    value: value,\n    onChange: handleChange,\n    autoComplete: \"off\",\n    helpText: helpText,\n    maxLength: 40,\n    showCharacterCount: true,\n    error: hasSameNameError ? i18n.translate('Polaris.Tabs.RenameModal.errors.sameName', {\n      name: value\n    }) : undefined\n  }))))));\n}\n\nexport { RenameModal };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}