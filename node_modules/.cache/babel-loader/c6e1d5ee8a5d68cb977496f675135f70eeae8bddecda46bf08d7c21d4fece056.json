{"ast":null,"code":"import React, { memo, useRef, useCallback, useEffect } from 'react';\nimport { classNames } from '../../../../utilities/css.js';\nimport { useComponentDidMount } from '../../../../utilities/use-component-did-mount.js';\nimport { useEventListener } from '../../../../utilities/use-event-listener.js';\nimport styles from '../../AlphaTabs.scss.js';\nimport { Tab } from '../Tab/Tab.js';\nconst TabMeasurer = /*#__PURE__*/memo(function TabMeasurer(_ref) {\n  let {\n    selected,\n    tabs,\n    activator,\n    tabToFocus,\n    siblingTabHasFocus,\n    handleMeasurement: handleMeasurementProp\n  } = _ref;\n  const containerNode = useRef(null);\n  const animationFrame = useRef(null);\n  const handleMeasurement = useCallback(() => {\n    if (animationFrame.current) {\n      cancelAnimationFrame(animationFrame.current);\n    }\n    animationFrame.current = requestAnimationFrame(() => {\n      if (!containerNode.current) {\n        return;\n      }\n      const containerWidth = containerNode.current.offsetWidth - 20 - 28;\n      const hiddenTabNodes = containerNode.current.children;\n      const hiddenTabNodesArray = Array.from(hiddenTabNodes);\n      const hiddenTabWidths = hiddenTabNodesArray.map(node => {\n        const buttonWidth = Math.ceil(node.getBoundingClientRect().width);\n        return buttonWidth + 4;\n      });\n      const disclosureWidth = hiddenTabWidths.pop() || 0;\n      handleMeasurementProp({\n        containerWidth,\n        disclosureWidth,\n        hiddenTabWidths\n      });\n    });\n  }, [handleMeasurementProp]);\n  useEffect(() => {\n    handleMeasurement();\n  }, [handleMeasurement, tabs]);\n  useComponentDidMount(() => {\n    if (process.env.NODE_ENV === 'development') {\n      setTimeout(handleMeasurement, 0);\n    }\n  });\n  const tabsMarkup = tabs.map((tab, index) => {\n    return /*#__PURE__*/React.createElement(Tab, {\n      measuring: true,\n      key: `$${tab.id}Hidden`,\n      id: `${tab.id}Measurer`,\n      siblingTabHasFocus: siblingTabHasFocus,\n      focused: index === tabToFocus,\n      selected: index === selected,\n      url: tab.url,\n      content: tab.content,\n      onTogglePopover: noop,\n      onToggleModal: noop\n    });\n  });\n  const classname = classNames(styles.AlphaTabs, styles.TabsMeasurer);\n  useEventListener('resize', handleMeasurement);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classname,\n    ref: containerNode\n  }, tabsMarkup, activator);\n});\nfunction noop() {}\nexport { TabMeasurer };","map":{"version":3,"names":["React","memo","useRef","useCallback","useEffect","classNames","useComponentDidMount","useEventListener","styles","Tab","TabMeasurer","_ref","selected","tabs","activator","tabToFocus","siblingTabHasFocus","handleMeasurement","handleMeasurementProp","containerNode","animationFrame","current","cancelAnimationFrame","requestAnimationFrame","containerWidth","offsetWidth","hiddenTabNodes","children","hiddenTabNodesArray","Array","from","hiddenTabWidths","map","node","buttonWidth","Math","ceil","getBoundingClientRect","width","disclosureWidth","pop","process","env","NODE_ENV","setTimeout","tabsMarkup","tab","index","createElement","measuring","key","id","focused","url","content","onTogglePopover","noop","onToggleModal","classname","AlphaTabs","TabsMeasurer","className","ref"],"sources":["/Users/jonaslemueldatu/node_modules/@shopify/polaris/build/esm/components/AlphaTabs/components/TabMeasurer/TabMeasurer.js"],"sourcesContent":["import React, { memo, useRef, useCallback, useEffect } from 'react';\nimport { classNames } from '../../../../utilities/css.js';\nimport { useComponentDidMount } from '../../../../utilities/use-component-did-mount.js';\nimport { useEventListener } from '../../../../utilities/use-event-listener.js';\nimport styles from '../../AlphaTabs.scss.js';\nimport { Tab } from '../Tab/Tab.js';\n\nconst TabMeasurer = /*#__PURE__*/memo(function TabMeasurer({\n  selected,\n  tabs,\n  activator,\n  tabToFocus,\n  siblingTabHasFocus,\n  handleMeasurement: handleMeasurementProp\n}) {\n  const containerNode = useRef(null);\n  const animationFrame = useRef(null);\n  const handleMeasurement = useCallback(() => {\n    if (animationFrame.current) {\n      cancelAnimationFrame(animationFrame.current);\n    }\n\n    animationFrame.current = requestAnimationFrame(() => {\n      if (!containerNode.current) {\n        return;\n      }\n\n      const containerWidth = containerNode.current.offsetWidth - 20 - 28;\n      const hiddenTabNodes = containerNode.current.children;\n      const hiddenTabNodesArray = Array.from(hiddenTabNodes);\n      const hiddenTabWidths = hiddenTabNodesArray.map(node => {\n        const buttonWidth = Math.ceil(node.getBoundingClientRect().width);\n        return buttonWidth + 4;\n      });\n      const disclosureWidth = hiddenTabWidths.pop() || 0;\n      handleMeasurementProp({\n        containerWidth,\n        disclosureWidth,\n        hiddenTabWidths\n      });\n    });\n  }, [handleMeasurementProp]);\n  useEffect(() => {\n    handleMeasurement();\n  }, [handleMeasurement, tabs]);\n  useComponentDidMount(() => {\n    if (process.env.NODE_ENV === 'development') {\n      setTimeout(handleMeasurement, 0);\n    }\n  });\n  const tabsMarkup = tabs.map((tab, index) => {\n    return /*#__PURE__*/React.createElement(Tab, {\n      measuring: true,\n      key: `$${tab.id}Hidden`,\n      id: `${tab.id}Measurer`,\n      siblingTabHasFocus: siblingTabHasFocus,\n      focused: index === tabToFocus,\n      selected: index === selected,\n      url: tab.url,\n      content: tab.content,\n      onTogglePopover: noop,\n      onToggleModal: noop\n    });\n  });\n  const classname = classNames(styles.AlphaTabs, styles.TabsMeasurer);\n  useEventListener('resize', handleMeasurement);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classname,\n    ref: containerNode\n  }, tabsMarkup, activator);\n});\n\nfunction noop() {}\n\nexport { TabMeasurer };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}