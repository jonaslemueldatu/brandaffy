{"ast":null,"code":"import React, { useRef, useCallback, useState, useMemo, useEffect } from 'react';\nimport { CircleAlertMajor, UploadMajor } from '@shopify/polaris-icons';\nimport { debounce } from '../../utilities/debounce.js';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { capitalize } from '../../utilities/capitalize.js';\nimport { isServer } from '../../utilities/target.js';\nimport { useComponentDidMount } from '../../utilities/use-component-did-mount.js';\nimport { useToggle } from '../../utilities/use-toggle.js';\nimport { useEventListener } from '../../utilities/use-event-listener.js';\nimport { DropZoneContext } from './context.js';\nimport { defaultAllowMultiple, fileAccepted, getDataTransferFiles, createAllowMultipleKey } from './utils/index.js';\nimport styles from './DropZone.scss.js';\nimport { FileUpload } from './components/FileUpload/FileUpload.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { VerticalStack } from '../VerticalStack/VerticalStack.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { Text } from '../Text/Text.js';\nimport { Labelled } from '../Labelled/Labelled.js';\n\n// TypeScript can't generate types that correctly infer the typing of\n// subcomponents so explicitly state the subcomponents in the type definition.\n// Letting this be implicit works in this project but fails in projects that use\n// generated *.d.ts files.\nconst DropZone = function DropZone(_ref) {\n  let {\n    dropOnPage,\n    label,\n    labelAction,\n    labelHidden,\n    children,\n    disabled = false,\n    outline = true,\n    accept,\n    active,\n    overlay = true,\n    allowMultiple = defaultAllowMultiple,\n    overlayText,\n    errorOverlayText,\n    id: idProp,\n    type = 'file',\n    onClick,\n    error,\n    openFileDialog,\n    variableHeight,\n    onFileDialogClose,\n    customValidator,\n    onDrop,\n    onDropAccepted,\n    onDropRejected,\n    onDragEnter,\n    onDragOver,\n    onDragLeave\n  } = _ref;\n  const node = useRef(null);\n  const inputRef = useRef(null);\n  const dragTargets = useRef([]); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  const adjustSize = useCallback(debounce(() => {\n    if (!node.current) {\n      return;\n    }\n    if (variableHeight) {\n      setMeasuring(false);\n      return;\n    }\n    let size = 'large';\n    const width = node.current.getBoundingClientRect().width;\n    if (width < 100) {\n      size = 'small';\n    } else if (width < 160) {\n      size = 'medium';\n    }\n    setSize(size);\n    measuring && setMeasuring(false);\n  }, 50, {\n    trailing: true\n  }), []);\n  const [dragging, setDragging] = useState(false);\n  const [internalError, setInternalError] = useState(false);\n  const {\n    value: focused,\n    setTrue: handleFocus,\n    setFalse: handleBlur\n  } = useToggle(false);\n  const [size, setSize] = useState('large');\n  const [measuring, setMeasuring] = useState(true);\n  const i18n = useI18n();\n  const getValidatedFiles = useCallback(files => {\n    const acceptedFiles = [];\n    const rejectedFiles = [];\n    Array.from(files).forEach(file => {\n      !fileAccepted(file, accept) || customValidator && !customValidator(file) ? rejectedFiles.push(file) : acceptedFiles.push(file);\n    });\n    if (!allowMultiple) {\n      acceptedFiles.splice(1, acceptedFiles.length);\n      rejectedFiles.push(...acceptedFiles.slice(1));\n    }\n    return {\n      files,\n      acceptedFiles,\n      rejectedFiles\n    };\n  }, [accept, allowMultiple, customValidator]);\n  const handleDrop = useCallback(event => {\n    stopEvent(event);\n    if (disabled) return;\n    const fileList = getDataTransferFiles(event);\n    const {\n      files,\n      acceptedFiles,\n      rejectedFiles\n    } = getValidatedFiles(fileList);\n    dragTargets.current = [];\n    setDragging(false);\n    setInternalError(rejectedFiles.length > 0);\n    onDrop && onDrop(files, acceptedFiles, rejectedFiles);\n    onDropAccepted && acceptedFiles.length && onDropAccepted(acceptedFiles);\n    onDropRejected && rejectedFiles.length && onDropRejected(rejectedFiles);\n    if (!(event.target && 'value' in event.target)) return;\n    event.target.value = '';\n  }, [disabled, getValidatedFiles, onDrop, onDropAccepted, onDropRejected]);\n  const handleDragEnter = useCallback(event => {\n    stopEvent(event);\n    if (disabled) return;\n    const fileList = getDataTransferFiles(event);\n    if (event.target && !dragTargets.current.includes(event.target)) {\n      dragTargets.current.push(event.target);\n    }\n    if (dragging) return;\n    const {\n      rejectedFiles\n    } = getValidatedFiles(fileList);\n    setDragging(true);\n    setInternalError(rejectedFiles.length > 0);\n    onDragEnter && onDragEnter();\n  }, [disabled, dragging, getValidatedFiles, onDragEnter]);\n  const handleDragOver = useCallback(event => {\n    stopEvent(event);\n    if (disabled) return;\n    onDragOver && onDragOver();\n  }, [disabled, onDragOver]);\n  const handleDragLeave = useCallback(event => {\n    event.preventDefault();\n    if (disabled) return;\n    dragTargets.current = dragTargets.current.filter(el => {\n      const compareNode = dropOnPage && !isServer ? document : node.current;\n      return el !== event.target && compareNode && compareNode.contains(el);\n    });\n    if (dragTargets.current.length > 0) return;\n    setDragging(false);\n    setInternalError(false);\n    onDragLeave && onDragLeave();\n  }, [dropOnPage, disabled, onDragLeave]);\n  const dropNode = dropOnPage && !isServer ? document : node.current;\n  useEventListener('drop', handleDrop, dropNode);\n  useEventListener('dragover', handleDragOver, dropNode);\n  useEventListener('dragenter', handleDragEnter, dropNode);\n  useEventListener('dragleave', handleDragLeave, dropNode);\n  useEventListener('resize', adjustSize, isServer ? null : window);\n  useComponentDidMount(() => {\n    adjustSize();\n  });\n  const id = useUniqueId('DropZone', idProp);\n  const typeSuffix = capitalize(type);\n  const allowMultipleKey = createAllowMultipleKey(allowMultiple);\n  const overlayTextWithDefault = overlayText === undefined ? i18n.translate(`Polaris.DropZone.${allowMultipleKey}.overlayText${typeSuffix}`) : overlayText;\n  const errorOverlayTextWithDefault = errorOverlayText === undefined ? i18n.translate(`Polaris.DropZone.errorOverlayText${typeSuffix}`) : errorOverlayText;\n  const labelValue = label || i18n.translate(`Polaris.DropZone.${allowMultipleKey}.label${typeSuffix}`);\n  const labelHiddenValue = label ? labelHidden : true;\n  const classes = classNames(styles.DropZone, outline && styles.hasOutline, focused && styles.focused, (active || dragging) && styles.isDragging, disabled && styles.isDisabled, (internalError || error) && styles.hasError, !variableHeight && styles[variationName('size', size)], measuring && styles.measuring);\n  const dragOverlay = (active || dragging) && !internalError && !error && overlay && overlayMarkup(UploadMajor, 'interactive', overlayTextWithDefault);\n  const dragErrorOverlay = dragging && (internalError || error) && overlayMarkup(CircleAlertMajor, 'critical', errorOverlayTextWithDefault);\n  const context = useMemo(() => ({\n    disabled,\n    focused,\n    size,\n    type: type || 'file',\n    measuring,\n    allowMultiple\n  }), [disabled, focused, measuring, size, type, allowMultiple]);\n  const open = useCallback(() => {\n    if (!inputRef.current) return;\n    inputRef.current.click();\n  }, [inputRef]);\n  const triggerFileDialog = useCallback(() => {\n    open();\n    onFileDialogClose === null || onFileDialogClose === void 0 ? void 0 : onFileDialogClose();\n  }, [open, onFileDialogClose]);\n  function overlayMarkup(icon, color, text) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Overlay\n    }, /*#__PURE__*/React.createElement(VerticalStack, {\n      gap: \"2\",\n      inlineAlign: \"center\"\n    }, size === 'small' && /*#__PURE__*/React.createElement(Icon, {\n      source: icon,\n      color: color\n    }), (size === 'medium' || size === 'large') && /*#__PURE__*/React.createElement(Text, {\n      variant: \"bodySm\",\n      as: \"p\",\n      fontWeight: \"bold\"\n    }, text)));\n  }\n  function handleClick(event) {\n    if (disabled) return;\n    return onClick ? onClick(event) : open();\n  }\n  useEffect(() => {\n    if (openFileDialog) triggerFileDialog();\n  }, [openFileDialog, triggerFileDialog]);\n  return /*#__PURE__*/React.createElement(DropZoneContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(Labelled, {\n    id: id,\n    label: labelValue,\n    action: labelAction,\n    labelHidden: labelHiddenValue\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: node,\n    className: classes,\n    \"aria-disabled\": disabled,\n    onClick: handleClick,\n    onDragStart: stopEvent\n  }, dragOverlay, dragErrorOverlay, /*#__PURE__*/React.createElement(Text, {\n    variant: \"bodySm\",\n    as: \"span\",\n    visuallyHidden: true\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: id,\n    accept: accept,\n    disabled: disabled,\n    multiple: allowMultiple,\n    onChange: handleDrop,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    type: \"file\",\n    ref: inputRef,\n    autoComplete: \"off\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Container\n  }, children))));\n};\nfunction stopEvent(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\nDropZone.FileUpload = FileUpload;\nexport { DropZone };","map":{"version":3,"names":["React","useRef","useCallback","useState","useMemo","useEffect","CircleAlertMajor","UploadMajor","debounce","classNames","variationName","capitalize","isServer","useComponentDidMount","useToggle","useEventListener","DropZoneContext","defaultAllowMultiple","fileAccepted","getDataTransferFiles","createAllowMultipleKey","styles","FileUpload","useI18n","useUniqueId","VerticalStack","Icon","Text","Labelled","DropZone","_ref","dropOnPage","label","labelAction","labelHidden","children","disabled","outline","accept","active","overlay","allowMultiple","overlayText","errorOverlayText","id","idProp","type","onClick","error","openFileDialog","variableHeight","onFileDialogClose","customValidator","onDrop","onDropAccepted","onDropRejected","onDragEnter","onDragOver","onDragLeave","node","inputRef","dragTargets","adjustSize","current","setMeasuring","size","width","getBoundingClientRect","setSize","measuring","trailing","dragging","setDragging","internalError","setInternalError","value","focused","setTrue","handleFocus","setFalse","handleBlur","i18n","getValidatedFiles","files","acceptedFiles","rejectedFiles","Array","from","forEach","file","push","splice","length","slice","handleDrop","event","stopEvent","fileList","target","handleDragEnter","includes","handleDragOver","handleDragLeave","preventDefault","filter","el","compareNode","document","contains","dropNode","window","typeSuffix","allowMultipleKey","overlayTextWithDefault","undefined","translate","errorOverlayTextWithDefault","labelValue","labelHiddenValue","classes","hasOutline","isDragging","isDisabled","hasError","dragOverlay","overlayMarkup","dragErrorOverlay","context","open","click","triggerFileDialog","icon","color","text","createElement","className","Overlay","gap","inlineAlign","source","variant","as","fontWeight","handleClick","Provider","action","ref","onDragStart","visuallyHidden","multiple","onChange","onFocus","onBlur","autoComplete","Container","stopPropagation"],"sources":["/Users/jonaslemueldatu/node_modules/@shopify/polaris/build/esm/components/DropZone/DropZone.js"],"sourcesContent":["import React, { useRef, useCallback, useState, useMemo, useEffect } from 'react';\nimport { CircleAlertMajor, UploadMajor } from '@shopify/polaris-icons';\nimport { debounce } from '../../utilities/debounce.js';\nimport { classNames, variationName } from '../../utilities/css.js';\nimport { capitalize } from '../../utilities/capitalize.js';\nimport { isServer } from '../../utilities/target.js';\nimport { useComponentDidMount } from '../../utilities/use-component-did-mount.js';\nimport { useToggle } from '../../utilities/use-toggle.js';\nimport { useEventListener } from '../../utilities/use-event-listener.js';\nimport { DropZoneContext } from './context.js';\nimport { defaultAllowMultiple, fileAccepted, getDataTransferFiles, createAllowMultipleKey } from './utils/index.js';\nimport styles from './DropZone.scss.js';\nimport { FileUpload } from './components/FileUpload/FileUpload.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { useUniqueId } from '../../utilities/unique-id/hooks.js';\nimport { VerticalStack } from '../VerticalStack/VerticalStack.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { Text } from '../Text/Text.js';\nimport { Labelled } from '../Labelled/Labelled.js';\n\n// TypeScript can't generate types that correctly infer the typing of\n// subcomponents so explicitly state the subcomponents in the type definition.\n// Letting this be implicit works in this project but fails in projects that use\n// generated *.d.ts files.\nconst DropZone = function DropZone({\n  dropOnPage,\n  label,\n  labelAction,\n  labelHidden,\n  children,\n  disabled = false,\n  outline = true,\n  accept,\n  active,\n  overlay = true,\n  allowMultiple = defaultAllowMultiple,\n  overlayText,\n  errorOverlayText,\n  id: idProp,\n  type = 'file',\n  onClick,\n  error,\n  openFileDialog,\n  variableHeight,\n  onFileDialogClose,\n  customValidator,\n  onDrop,\n  onDropAccepted,\n  onDropRejected,\n  onDragEnter,\n  onDragOver,\n  onDragLeave\n}) {\n  const node = useRef(null);\n  const inputRef = useRef(null);\n  const dragTargets = useRef([]); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  const adjustSize = useCallback(debounce(() => {\n    if (!node.current) {\n      return;\n    }\n\n    if (variableHeight) {\n      setMeasuring(false);\n      return;\n    }\n\n    let size = 'large';\n    const width = node.current.getBoundingClientRect().width;\n\n    if (width < 100) {\n      size = 'small';\n    } else if (width < 160) {\n      size = 'medium';\n    }\n\n    setSize(size);\n    measuring && setMeasuring(false);\n  }, 50, {\n    trailing: true\n  }), []);\n  const [dragging, setDragging] = useState(false);\n  const [internalError, setInternalError] = useState(false);\n  const {\n    value: focused,\n    setTrue: handleFocus,\n    setFalse: handleBlur\n  } = useToggle(false);\n  const [size, setSize] = useState('large');\n  const [measuring, setMeasuring] = useState(true);\n  const i18n = useI18n();\n  const getValidatedFiles = useCallback(files => {\n    const acceptedFiles = [];\n    const rejectedFiles = [];\n    Array.from(files).forEach(file => {\n      !fileAccepted(file, accept) || customValidator && !customValidator(file) ? rejectedFiles.push(file) : acceptedFiles.push(file);\n    });\n\n    if (!allowMultiple) {\n      acceptedFiles.splice(1, acceptedFiles.length);\n      rejectedFiles.push(...acceptedFiles.slice(1));\n    }\n\n    return {\n      files,\n      acceptedFiles,\n      rejectedFiles\n    };\n  }, [accept, allowMultiple, customValidator]);\n  const handleDrop = useCallback(event => {\n    stopEvent(event);\n    if (disabled) return;\n    const fileList = getDataTransferFiles(event);\n    const {\n      files,\n      acceptedFiles,\n      rejectedFiles\n    } = getValidatedFiles(fileList);\n    dragTargets.current = [];\n    setDragging(false);\n    setInternalError(rejectedFiles.length > 0);\n    onDrop && onDrop(files, acceptedFiles, rejectedFiles);\n    onDropAccepted && acceptedFiles.length && onDropAccepted(acceptedFiles);\n    onDropRejected && rejectedFiles.length && onDropRejected(rejectedFiles);\n    if (!(event.target && 'value' in event.target)) return;\n    event.target.value = '';\n  }, [disabled, getValidatedFiles, onDrop, onDropAccepted, onDropRejected]);\n  const handleDragEnter = useCallback(event => {\n    stopEvent(event);\n    if (disabled) return;\n    const fileList = getDataTransferFiles(event);\n\n    if (event.target && !dragTargets.current.includes(event.target)) {\n      dragTargets.current.push(event.target);\n    }\n\n    if (dragging) return;\n    const {\n      rejectedFiles\n    } = getValidatedFiles(fileList);\n    setDragging(true);\n    setInternalError(rejectedFiles.length > 0);\n    onDragEnter && onDragEnter();\n  }, [disabled, dragging, getValidatedFiles, onDragEnter]);\n  const handleDragOver = useCallback(event => {\n    stopEvent(event);\n    if (disabled) return;\n    onDragOver && onDragOver();\n  }, [disabled, onDragOver]);\n  const handleDragLeave = useCallback(event => {\n    event.preventDefault();\n    if (disabled) return;\n    dragTargets.current = dragTargets.current.filter(el => {\n      const compareNode = dropOnPage && !isServer ? document : node.current;\n      return el !== event.target && compareNode && compareNode.contains(el);\n    });\n    if (dragTargets.current.length > 0) return;\n    setDragging(false);\n    setInternalError(false);\n    onDragLeave && onDragLeave();\n  }, [dropOnPage, disabled, onDragLeave]);\n  const dropNode = dropOnPage && !isServer ? document : node.current;\n  useEventListener('drop', handleDrop, dropNode);\n  useEventListener('dragover', handleDragOver, dropNode);\n  useEventListener('dragenter', handleDragEnter, dropNode);\n  useEventListener('dragleave', handleDragLeave, dropNode);\n  useEventListener('resize', adjustSize, isServer ? null : window);\n  useComponentDidMount(() => {\n    adjustSize();\n  });\n  const id = useUniqueId('DropZone', idProp);\n  const typeSuffix = capitalize(type);\n  const allowMultipleKey = createAllowMultipleKey(allowMultiple);\n  const overlayTextWithDefault = overlayText === undefined ? i18n.translate(`Polaris.DropZone.${allowMultipleKey}.overlayText${typeSuffix}`) : overlayText;\n  const errorOverlayTextWithDefault = errorOverlayText === undefined ? i18n.translate(`Polaris.DropZone.errorOverlayText${typeSuffix}`) : errorOverlayText;\n  const labelValue = label || i18n.translate(`Polaris.DropZone.${allowMultipleKey}.label${typeSuffix}`);\n  const labelHiddenValue = label ? labelHidden : true;\n  const classes = classNames(styles.DropZone, outline && styles.hasOutline, focused && styles.focused, (active || dragging) && styles.isDragging, disabled && styles.isDisabled, (internalError || error) && styles.hasError, !variableHeight && styles[variationName('size', size)], measuring && styles.measuring);\n  const dragOverlay = (active || dragging) && !internalError && !error && overlay && overlayMarkup(UploadMajor, 'interactive', overlayTextWithDefault);\n  const dragErrorOverlay = dragging && (internalError || error) && overlayMarkup(CircleAlertMajor, 'critical', errorOverlayTextWithDefault);\n  const context = useMemo(() => ({\n    disabled,\n    focused,\n    size,\n    type: type || 'file',\n    measuring,\n    allowMultiple\n  }), [disabled, focused, measuring, size, type, allowMultiple]);\n  const open = useCallback(() => {\n    if (!inputRef.current) return;\n    inputRef.current.click();\n  }, [inputRef]);\n  const triggerFileDialog = useCallback(() => {\n    open();\n    onFileDialogClose === null || onFileDialogClose === void 0 ? void 0 : onFileDialogClose();\n  }, [open, onFileDialogClose]);\n\n  function overlayMarkup(icon, color, text) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.Overlay\n    }, /*#__PURE__*/React.createElement(VerticalStack, {\n      gap: \"2\",\n      inlineAlign: \"center\"\n    }, size === 'small' && /*#__PURE__*/React.createElement(Icon, {\n      source: icon,\n      color: color\n    }), (size === 'medium' || size === 'large') && /*#__PURE__*/React.createElement(Text, {\n      variant: \"bodySm\",\n      as: \"p\",\n      fontWeight: \"bold\"\n    }, text)));\n  }\n\n  function handleClick(event) {\n    if (disabled) return;\n    return onClick ? onClick(event) : open();\n  }\n\n  useEffect(() => {\n    if (openFileDialog) triggerFileDialog();\n  }, [openFileDialog, triggerFileDialog]);\n  return /*#__PURE__*/React.createElement(DropZoneContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(Labelled, {\n    id: id,\n    label: labelValue,\n    action: labelAction,\n    labelHidden: labelHiddenValue\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: node,\n    className: classes,\n    \"aria-disabled\": disabled,\n    onClick: handleClick,\n    onDragStart: stopEvent\n  }, dragOverlay, dragErrorOverlay, /*#__PURE__*/React.createElement(Text, {\n    variant: \"bodySm\",\n    as: \"span\",\n    visuallyHidden: true\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    id: id,\n    accept: accept,\n    disabled: disabled,\n    multiple: allowMultiple,\n    onChange: handleDrop,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    type: \"file\",\n    ref: inputRef,\n    autoComplete: \"off\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Container\n  }, children))));\n};\n\nfunction stopEvent(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\n\nDropZone.FileUpload = FileUpload;\n\nexport { DropZone };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}