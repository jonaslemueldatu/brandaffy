{"ast":null,"code":"import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { CircleCancelMinor, SearchMinor } from '@shopify/polaris-icons';\nimport { classNames } from '../../../../utilities/css.js';\nimport styles from './SearchField.scss.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { useUniqueId } from '../../../../utilities/unique-id/hooks.js';\nimport { Icon } from '../../../Icon/Icon.js';\nimport { Text } from '../../../Text/Text.js';\nfunction SearchField(_ref) {\n  let {\n    value,\n    focused,\n    active,\n    placeholder,\n    onChange,\n    onFocus,\n    onBlur,\n    onCancel,\n    showFocusBorder\n  } = _ref;\n  const i18n = useI18n();\n  const [forceActive, setForceActive] = useState(false);\n  const input = useRef(null);\n  const searchId = useUniqueId('SearchField');\n  const handleChange = useCallback(_ref2 => {\n    let {\n      currentTarget\n    } = _ref2;\n    onChange(currentTarget.value);\n  }, [onChange]);\n  const handleFocus = useCallback(() => onFocus && onFocus(), [onFocus]);\n  const handleBlur = useCallback(() => onBlur && onBlur(), [onBlur]);\n  const handleClear = useCallback(() => {\n    onCancel && onCancel();\n    if (!input.current) {\n      return;\n    }\n    input.current.value = '';\n    onChange('');\n    input.current.focus();\n  }, [onCancel, onChange]);\n  useEffect(() => {\n    if (!input.current) {\n      return;\n    }\n    if (focused) {\n      input.current.focus();\n    } else {\n      input.current.blur();\n    }\n  }, [focused]);\n  const clearMarkup = value !== '' && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"aria-label\": i18n.translate('Polaris.TopBar.SearchField.clearButtonLabel'),\n    className: styles.Clear,\n    onClick: handleClear,\n    onBlur: () => {\n      setForceActive(false);\n      handleClear();\n    },\n    onFocus: () => {\n      handleFocus();\n      setForceActive(true);\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: CircleCancelMinor\n  }));\n  const className = classNames(styles.SearchField, (focused || active || forceActive) && styles.focused);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  }, /*#__PURE__*/React.createElement(Text, {\n    as: \"span\",\n    visuallyHidden: true\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: searchId\n  }, i18n.translate('Polaris.TopBar.SearchField.search'))), /*#__PURE__*/React.createElement(\"input\", {\n    id: searchId,\n    className: styles.Input,\n    placeholder: placeholder,\n    type: \"search\",\n    autoCapitalize: \"off\",\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    ref: input,\n    value: value,\n    onChange: handleChange,\n    onKeyDown: preventDefault\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Icon\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: SearchMinor\n  })), clearMarkup, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(styles.Backdrop, showFocusBorder && styles.BackdropShowFocusBorder)\n  }));\n}\nfunction preventDefault(event) {\n  if (event.key === 'Enter') {\n    event.preventDefault();\n  }\n}\nexport { SearchField };","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","CircleCancelMinor","SearchMinor","classNames","styles","useI18n","useUniqueId","Icon","Text","SearchField","_ref","value","focused","active","placeholder","onChange","onFocus","onBlur","onCancel","showFocusBorder","i18n","forceActive","setForceActive","input","searchId","handleChange","_ref2","currentTarget","handleFocus","handleBlur","handleClear","current","focus","blur","clearMarkup","createElement","type","translate","className","Clear","onClick","source","as","visuallyHidden","htmlFor","id","Input","autoCapitalize","autoComplete","autoCorrect","ref","onKeyDown","preventDefault","Backdrop","BackdropShowFocusBorder","event","key"],"sources":["/Users/jonaslemueldatu/node_modules/@shopify/polaris/build/esm/components/TopBar/components/SearchField/SearchField.js"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { CircleCancelMinor, SearchMinor } from '@shopify/polaris-icons';\nimport { classNames } from '../../../../utilities/css.js';\nimport styles from './SearchField.scss.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { useUniqueId } from '../../../../utilities/unique-id/hooks.js';\nimport { Icon } from '../../../Icon/Icon.js';\nimport { Text } from '../../../Text/Text.js';\n\nfunction SearchField({\n  value,\n  focused,\n  active,\n  placeholder,\n  onChange,\n  onFocus,\n  onBlur,\n  onCancel,\n  showFocusBorder\n}) {\n  const i18n = useI18n();\n  const [forceActive, setForceActive] = useState(false);\n  const input = useRef(null);\n  const searchId = useUniqueId('SearchField');\n  const handleChange = useCallback(({\n    currentTarget\n  }) => {\n    onChange(currentTarget.value);\n  }, [onChange]);\n  const handleFocus = useCallback(() => onFocus && onFocus(), [onFocus]);\n  const handleBlur = useCallback(() => onBlur && onBlur(), [onBlur]);\n  const handleClear = useCallback(() => {\n    onCancel && onCancel();\n\n    if (!input.current) {\n      return;\n    }\n\n    input.current.value = '';\n    onChange('');\n    input.current.focus();\n  }, [onCancel, onChange]);\n  useEffect(() => {\n    if (!input.current) {\n      return;\n    }\n\n    if (focused) {\n      input.current.focus();\n    } else {\n      input.current.blur();\n    }\n  }, [focused]);\n  const clearMarkup = value !== '' && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"aria-label\": i18n.translate('Polaris.TopBar.SearchField.clearButtonLabel'),\n    className: styles.Clear,\n    onClick: handleClear,\n    onBlur: () => {\n      setForceActive(false);\n      handleClear();\n    },\n    onFocus: () => {\n      handleFocus();\n      setForceActive(true);\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: CircleCancelMinor\n  }));\n  const className = classNames(styles.SearchField, (focused || active || forceActive) && styles.focused);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  }, /*#__PURE__*/React.createElement(Text, {\n    as: \"span\",\n    visuallyHidden: true\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: searchId\n  }, i18n.translate('Polaris.TopBar.SearchField.search'))), /*#__PURE__*/React.createElement(\"input\", {\n    id: searchId,\n    className: styles.Input,\n    placeholder: placeholder,\n    type: \"search\",\n    autoCapitalize: \"off\",\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    ref: input,\n    value: value,\n    onChange: handleChange,\n    onKeyDown: preventDefault\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.Icon\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: SearchMinor\n  })), clearMarkup, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(styles.Backdrop, showFocusBorder && styles.BackdropShowFocusBorder)\n  }));\n}\n\nfunction preventDefault(event) {\n  if (event.key === 'Enter') {\n    event.preventDefault();\n  }\n}\n\nexport { SearchField };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}